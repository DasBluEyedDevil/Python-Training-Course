{
  "lesson_id": "13_01",
  "title": "HTTP Basics and the Requests Library",
  "module_id": 13,
  "order_index": 1,
  "description": "Understand HTTP fundamentals, request methods, status codes, and headers. Learn to make HTTP requests using Python's requests library for API consumption.",
  "estimated_minutes": 35,
  "content_blocks": [
    {
      "type": "the_simplifier",
      "title": "The Concept: How the Web Works",
      "content": "**HTTP = How computers talk on the web**\n\n**Think of it like a restaurant:**\n\n**Client (You) â†’ Server (Kitchen)**\n- You: \"Can I have a burger?\" (REQUEST)\n- Kitchen: \"Here's your burger!\" (RESPONSE)\n\n**HTTP Request Methods:**\n\n1. **GET** ðŸ“– - Read/retrieve data\n   - Like asking to see the menu\n   - \"Show me the user with ID 5\"\n\n2. **POST** âž• - Create new data\n   - Like placing an order\n   - \"Create a new user account\"\n\n3. **PUT** ðŸ“ - Update existing data\n   - Like changing your order\n   - \"Update user profile\"\n\n4. **DELETE** ðŸ—‘ï¸ - Remove data\n   - Like canceling your order\n   - \"Delete this post\"\n\n**HTTP Status Codes:**\n- **2xx (Success)** âœ…\n  - 200: OK - Request succeeded\n  - 201: Created - New resource created\n\n- **3xx (Redirect)** â†ªï¸\n  - 301: Moved permanently\n  - 302: Temporary redirect\n\n- **4xx (Client Error)** âŒ\n  - 400: Bad request\n  - 401: Unauthorized\n  - 404: Not found\n\n- **5xx (Server Error)** ðŸ’¥\n  - 500: Internal server error\n  - 503: Service unavailable\n\n**Headers:** Metadata about the request/response\n- Content-Type: application/json\n- Authorization: Bearer token\n- User-Agent: Browser info"
    },
    {
      "type": "the_coder",
      "title": "Code Example: Making HTTP Requests",
      "code": "import requests\nimport json\n\nprint(\"=== GET Request - Retrieve Data ===\")\n\n# Simple GET request\nresponse = requests.get('https://jsonplaceholder.typicode.com/users/1')\n\nprint(f\"Status Code: {response.status_code}\")\nprint(f\"Success: {response.ok}\")\nprint(f\"\\nResponse Headers:\")\nfor key, value in list(response.headers.items())[:5]:\n    print(f\"  {key}: {value}\")\n\n# Parse JSON response\nuser = response.json()\nprint(f\"\\nUser Data:\")\nprint(f\"  Name: {user['name']}\")\nprint(f\"  Email: {user['email']}\")\nprint(f\"  City: {user['address']['city']}\")\n\nprint(\"\\n=== GET with Query Parameters ===\")\n\n# Get multiple users\nparams = {\n    '_limit': 3,\n    '_sort': 'name'\n}\n\nresponse = requests.get(\n    'https://jsonplaceholder.typicode.com/users',\n    params=params\n)\n\nusers = response.json()\nprint(f\"Retrieved {len(users)} users:\")\nfor user in users:\n    print(f\"  - {user['name']} ({user['email']})\")\n\nprint(\"\\n=== POST Request - Create Data ===\")\n\n# Create new post\nnew_post = {\n    'title': 'My First Post',\n    'body': 'This is the content of my post',\n    'userId': 1\n}\n\nresponse = requests.post(\n    'https://jsonplaceholder.typicode.com/posts',\n    json=new_post\n)\n\nprint(f\"Status Code: {response.status_code}\")\ncreated_post = response.json()\nprint(f\"Created Post:\")\nprint(f\"  ID: {created_post.get('id')}\")\nprint(f\"  Title: {created_post['title']}\")\nprint(f\"  Body: {created_post['body']}\")\n\nprint(\"\\n=== PUT Request - Update Data ===\")\n\n# Update existing post\nupdated_post = {\n    'id': 1,\n    'title': 'Updated Title',\n    'body': 'Updated content',\n    'userId': 1\n}\n\nresponse = requests.put(\n    'https://jsonplaceholder.typicode.com/posts/1',\n    json=updated_post\n)\n\nprint(f\"Status Code: {response.status_code}\")\nresult = response.json()\nprint(f\"Updated Post:\")\nprint(f\"  Title: {result['title']}\")\nprint(f\"  Body: {result['body']}\")\n\nprint(\"\\n=== DELETE Request - Remove Data ===\")\n\nresponse = requests.delete('https://jsonplaceholder.typicode.com/posts/1')\n\nprint(f\"Status Code: {response.status_code}\")\nprint(f\"Deletion successful: {response.status_code == 200}\")\n\nprint(\"\\n=== Custom Headers ===\")\n\nheaders = {\n    'User-Agent': 'Python Training Course/1.0',\n    'Accept': 'application/json',\n    'Custom-Header': 'Custom Value'\n}\n\nresponse = requests.get(\n    'https://httpbin.org/headers',\n    headers=headers\n)\n\nreceived_headers = response.json()\nprint(\"Headers sent and received:\")\nfor key, value in received_headers['headers'].items():\n    print(f\"  {key}: {value}\")\n\nprint(\"\\n=== Error Handling ===\")\n\ntry:\n    response = requests.get('https://jsonplaceholder.typicode.com/users/999')\n    response.raise_for_status()  # Raises exception for 4xx/5xx\n    \n    user = response.json()\n    if not user:\n        print(\"User not found (empty response)\")\n    else:\n        print(f\"Found: {user['name']}\")\nexcept requests.exceptions.HTTPError as e:\n    print(f\"HTTP Error: {e}\")\nexcept requests.exceptions.RequestException as e:\n    print(f\"Request Error: {e}\")\n\nprint(\"\\n=== Timeout and Retries ===\")\n\ntry:\n    response = requests.get(\n        'https://jsonplaceholder.typicode.com/users/1',\n        timeout=5  # 5 second timeout\n    )\n    print(f\"Request completed in {response.elapsed.total_seconds():.3f}s\")\nexcept requests.exceptions.Timeout:\n    print(\"Request timed out!\")",
      "explanation": "**requests library key features:**\n\n**1. HTTP Methods:**\n```python\nrequests.get(url)     # Retrieve\nrequests.post(url)    # Create\nrequests.put(url)     # Update\nrequests.delete(url)  # Remove\n```\n\n**2. Response object:**\n```python\nresponse.status_code  # 200, 404, etc.\nresponse.ok           # True if 2xx\nresponse.json()       # Parse JSON\nresponse.text         # Raw text\nresponse.headers      # Response headers\n```\n\n**3. Sending data:**\n```python\n# JSON data\nrequests.post(url, json={'key': 'value'})\n\n# Form data\nrequests.post(url, data={'key': 'value'})\n\n# Query parameters\nrequests.get(url, params={'key': 'value'})\n```\n\n**4. Headers:**\n```python\nheaders = {'Authorization': 'Bearer token'}\nrequests.get(url, headers=headers)\n```",
      "output": "=== GET Request - Retrieve Data ===\nStatus Code: 200\nSuccess: True\n\nResponse Headers:\n  Date: Mon, 15 Jan 2024 10:30:45 GMT\n  Content-Type: application/json; charset=utf-8\n  Transfer-Encoding: chunked\n  Connection: keep-alive\n  X-Powered-By: Express\n\nUser Data:\n  Name: Leanne Graham\n  Email: Sincere@april.biz\n  City: Gwenborough\n\n=== GET with Query Parameters ===\nRetrieved 3 users:\n  - Chelsey Dietrich (Lucio_Hettinger@annie.ca)\n  - Clementine Bauch (Nathan@yesenia.net)\n  - Clementina DuBuque (Rey.Padberg@karina.biz)\n\n=== POST Request - Create Data ===\nStatus Code: 201\nCreated Post:\n  ID: 101\n  Title: My First Post\n  Body: This is the content of my post\n\n=== PUT Request - Update Data ===\nStatus Code: 200\nUpdated Post:\n  Title: Updated Title\n  Body: Updated content\n\n=== DELETE Request - Remove Data ===\nStatus Code: 200\nDeletion successful: True\n\n=== Custom Headers ===\nHeaders sent and received:\n  Accept: application/json\n  Custom-Header: Custom Value\n  Host: httpbin.org\n  User-Agent: Python Training Course/1.0\n\n=== Error Handling ===\nUser not found (empty response)\n\n=== Timeout and Retries ===\nRequest completed in 0.234s"
    },
    {
      "type": "the_simplifier",
      "title": "Syntax Breakdown",
      "content": "**Basic request pattern:**\n```python\nimport requests\n\n# GET request\nresponse = requests.get(url)\n\n# Check status\nif response.ok:  # or response.status_code == 200\n    data = response.json()\n```\n\n**With parameters:**\n```python\n# Query parameters (?key=value&key2=value2)\nparams = {'key': 'value', 'key2': 'value2'}\nresponse = requests.get(url, params=params)\n\n# POST with JSON data\ndata = {'name': 'Alice', 'age': 25}\nresponse = requests.post(url, json=data)\n\n# Custom headers\nheaders = {'Authorization': 'Bearer token'}\nresponse = requests.get(url, headers=headers)\n```\n\n**Error handling:**\n```python\ntry:\n    response = requests.get(url, timeout=5)\n    response.raise_for_status()  # Raise exception for errors\n    data = response.json()\nexcept requests.exceptions.HTTPError:\n    print(\"HTTP error\")\nexcept requests.exceptions.Timeout:\n    print(\"Timeout\")\nexcept requests.exceptions.RequestException:\n    print(\"Request failed\")\n```\n\n**Common patterns:**\n```python\n# Check status\nif response.status_code == 200:\n    # Success\n    pass\n\n# Parse response\njson_data = response.json()  # For JSON\ntext_data = response.text    # For text\nbinary = response.content    # For binary\n```"
    },
    {
      "type": "the_coder",
      "title": "Code Example: Working with Real APIs",
      "code": "import requests\nfrom typing import Optional, Dict, List\n\nprint(\"=== GitHub API Example ===\")\n\nclass GitHubAPI:\n    \"\"\"Simple GitHub API client\"\"\"\n    \n    BASE_URL = 'https://api.github.com'\n    \n    def __init__(self, token: Optional[str] = None):\n        self.session = requests.Session()\n        if token:\n            self.session.headers['Authorization'] = f'token {token}'\n        self.session.headers['Accept'] = 'application/vnd.github.v3+json'\n    \n    def get_user(self, username: str) -> Optional[Dict]:\n        \"\"\"Get user information\"\"\"\n        response = self.session.get(f'{self.BASE_URL}/users/{username}')\n        \n        if response.ok:\n            return response.json()\n        return None\n    \n    def get_repos(self, username: str, limit: int = 5) -> List[Dict]:\n        \"\"\"Get user repositories\"\"\"\n        response = self.session.get(\n            f'{self.BASE_URL}/users/{username}/repos',\n            params={'sort': 'updated', 'per_page': limit}\n        )\n        \n        if response.ok:\n            return response.json()\n        return []\n\n# Use the API client\ngh = GitHubAPI()\n\n# Get user info\nuser = gh.get_user('octocat')\nif user:\n    print(f\"User: {user['login']}\")\n    print(f\"Name: {user['name']}\")\n    print(f\"Public Repos: {user['public_repos']}\")\n    print(f\"Followers: {user['followers']}\")\n\n# Get repositories\nrepos = gh.get_repos('octocat', limit=3)\nprint(f\"\\nTop {len(repos)} repositories:\")\nfor repo in repos:\n    print(f\"  - {repo['name']}: {repo['description'] or 'No description'}\")\n    print(f\"    â­ {repo['stargazers_count']} stars\")\n\nprint(\"\\n=== Weather API Example (OpenWeatherMap concept) ===\")\n\nclass WeatherAPI:\n    \"\"\"Weather API client (example structure)\"\"\"\n    \n    def __init__(self, api_key: str):\n        self.api_key = api_key\n        self.base_url = 'https://api.openweathermap.org/data/2.5'\n    \n    def get_current_weather(self, city: str) -> Optional[Dict]:\n        \"\"\"Get current weather for a city\"\"\"\n        params = {\n            'q': city,\n            'appid': self.api_key,\n            'units': 'metric'\n        }\n        \n        try:\n            response = requests.get(\n                f'{self.base_url}/weather',\n                params=params,\n                timeout=10\n            )\n            response.raise_for_status()\n            return response.json()\n        except requests.exceptions.RequestException as e:\n            print(f\"Error fetching weather: {e}\")\n            return None\n\n# Example usage (would need real API key)\nprint(\"Weather API structure example (requires API key)\")\nprint(\"  weather = WeatherAPI('your-api-key')\")\nprint(\"  data = weather.get_current_weather('London')\")\n\nprint(\"\\n=== API Response Caching ===\")\n\nimport time\nfrom functools import lru_cache\n\nclass CachedAPI:\n    \"\"\"API client with caching\"\"\"\n    \n    def __init__(self):\n        self.cache = {}\n        self.cache_duration = 300  # 5 minutes\n    \n    def get_data(self, url: str) -> Optional[Dict]:\n        \"\"\"Get data with caching\"\"\"\n        now = time.time()\n        \n        # Check cache\n        if url in self.cache:\n            cached_data, timestamp = self.cache[url]\n            if now - timestamp < self.cache_duration:\n                print(f\"  âœ“ Cache hit for {url}\")\n                return cached_data\n        \n        # Make request\n        print(f\"  â†’ Making request to {url}\")\n        try:\n            response = requests.get(url, timeout=5)\n            response.raise_for_status()\n            data = response.json()\n            \n            # Cache the result\n            self.cache[url] = (data, now)\n            return data\n        except requests.exceptions.RequestException as e:\n            print(f\"  âœ— Error: {e}\")\n            return None\n\napi = CachedAPI()\n\nurl = 'https://jsonplaceholder.typicode.com/users/1'\n\nprint(\"First request (will fetch):\")\ndata1 = api.get_data(url)\nif data1:\n    print(f\"  Got: {data1['name']}\")\n\nprint(\"\\nSecond request (will use cache):\")\ndata2 = api.get_data(url)\nif data2:\n    print(f\"  Got: {data2['name']}\")\n\nprint(\"\\n=== Rate Limiting ===\")\n\nimport time\n\nclass RateLimitedAPI:\n    \"\"\"API client with rate limiting\"\"\"\n    \n    def __init__(self, requests_per_minute: int = 60):\n        self.requests_per_minute = requests_per_minute\n        self.request_times = []\n    \n    def _wait_if_needed(self):\n        \"\"\"Wait if rate limit would be exceeded\"\"\"\n        now = time.time()\n        \n        # Remove requests older than 1 minute\n        self.request_times = [\n            t for t in self.request_times \n            if now - t < 60\n        ]\n        \n        # Wait if at limit\n        if len(self.request_times) >= self.requests_per_minute:\n            wait_time = 60 - (now - self.request_times[0])\n            if wait_time > 0:\n                print(f\"  Rate limit reached, waiting {wait_time:.1f}s...\")\n                time.sleep(wait_time)\n                self.request_times = []\n    \n    def get(self, url: str) -> Optional[requests.Response]:\n        \"\"\"Make rate-limited GET request\"\"\"\n        self._wait_if_needed()\n        self.request_times.append(time.time())\n        return requests.get(url)\n\napi = RateLimitedAPI(requests_per_minute=2)\n\nprint(\"Making rate-limited requests:\")\nfor i in range(3):\n    print(f\"  Request {i+1}\")\n    response = api.get('https://jsonplaceholder.typicode.com/users/1')\n    print(f\"    Status: {response.status_code}\")",
      "explanation": "**Building API clients - best practices:**\n\n**1. Use sessions:**\n```python\nsession = requests.Session()\nsession.headers['Authorization'] = 'token'\n# Reuses connection, faster!\n```\n\n**2. Error handling:**\n```python\ntry:\n    response.raise_for_status()\nexcept requests.exceptions.HTTPError:\n    # Handle 4xx/5xx\nexcept requests.exceptions.Timeout:\n    # Handle timeout\n```\n\n**3. Caching:**\n- Store responses temporarily\n- Reduce API calls\n- Faster for repeated requests\n\n**4. Rate limiting:**\n- Respect API limits\n- Avoid being blocked\n- Track request timestamps\n\n**5. Type hints:**\n```python\ndef get_user(username: str) -> Optional[Dict]:\n    ...\n```\nClear what function expects/returns",
      "output": "=== GitHub API Example ===\nUser: octocat\nName: The Octocat\nPublic Repos: 8\nFollowers: 8234\n\nTop 3 repositories:\n  - Hello-World: My first repository on GitHub!\n    â­ 1842 stars\n  - Spoon-Knife: This repo is for demonstration purposes only.\n    â­ 11523 stars\n  - octocat.github.io: No description\n    â­ 156 stars\n\n=== Weather API Example (OpenWeatherMap concept) ===\nWeather API structure example (requires API key)\n  weather = WeatherAPI('your-api-key')\n  data = weather.get_current_weather('London')\n\n=== API Response Caching ===\nFirst request (will fetch):\n  â†’ Making request to https://jsonplaceholder.typicode.com/users/1\n  Got: Leanne Graham\n\nSecond request (will use cache):\n  âœ“ Cache hit for https://jsonplaceholder.typicode.com/users/1\n  Got: Leanne Graham\n\n=== Rate Limiting ===\nMaking rate-limited requests:\n  Request 1\n    Status: 200\n  Request 2\n    Status: 200\n  Request 3\n  Rate limit reached, waiting 59.8s...\n    Status: 200"
    },
    {
      "type": "the_coder",
      "title": "Interactive Exercise",
      "instruction": "Create a simple API client for JSONPlaceholder that:\n- Gets all posts for a specific user\n- Filters posts by keyword in title\n- Returns formatted results\nImplement error handling and use type hints.",
      "starter_code": "import requests\nfrom typing import List, Dict, Optional\n\nclass PostsAPI:\n    BASE_URL = 'https://jsonplaceholder.typicode.com'\n    \n    def get_user_posts(self, user_id: int) -> List[Dict]:\n        # TODO: Get all posts for user_id\n        pass\n    \n    def filter_posts_by_keyword(self, posts: List[Dict], keyword: str) -> List[Dict]:\n        # TODO: Filter posts where keyword is in title\n        pass\n    \n    def format_post(self, post: Dict) -> str:\n        # TODO: Return formatted string \"[ID] Title\"\n        pass\n\n# Test\napi = PostsAPI()\nposts = api.get_user_posts(1)\nfiltered = api.filter_posts_by_keyword(posts, 'sunt')\nfor post in filtered:\n    print(api.format_post(post))",
      "hint": "Use requests.get with params={'userId': user_id}. Filter with list comprehension checking if keyword in post['title']. Format with f-string."
    },
    {
      "type": "the_coder",
      "title": "Solution",
      "solution_code": "import requests\nfrom typing import List, Dict, Optional\n\nclass PostsAPI:\n    \"\"\"Client for JSONPlaceholder posts API\"\"\"\n    \n    BASE_URL = 'https://jsonplaceholder.typicode.com'\n    \n    def __init__(self):\n        self.session = requests.Session()\n        self.session.headers['Content-Type'] = 'application/json'\n    \n    def get_user_posts(self, user_id: int) -> List[Dict]:\n        \"\"\"Get all posts for a specific user\"\"\"\n        try:\n            response = self.session.get(\n                f'{self.BASE_URL}/posts',\n                params={'userId': user_id},\n                timeout=10\n            )\n            response.raise_for_status()\n            return response.json()\n        except requests.exceptions.RequestException as e:\n            print(f\"Error fetching posts: {e}\")\n            return []\n    \n    def filter_posts_by_keyword(self, posts: List[Dict], keyword: str) -> List[Dict]:\n        \"\"\"Filter posts by keyword in title (case-insensitive)\"\"\"\n        keyword_lower = keyword.lower()\n        return [\n            post for post in posts \n            if keyword_lower in post['title'].lower()\n        ]\n    \n    def format_post(self, post: Dict) -> str:\n        \"\"\"Format post as readable string\"\"\"\n        return f\"[{post['id']}] {post['title']}\"\n    \n    def get_post_by_id(self, post_id: int) -> Optional[Dict]:\n        \"\"\"Get a single post by ID\"\"\"\n        try:\n            response = self.session.get(\n                f'{self.BASE_URL}/posts/{post_id}',\n                timeout=10\n            )\n            response.raise_for_status()\n            return response.json()\n        except requests.exceptions.RequestException:\n            return None\n    \n    def create_post(self, user_id: int, title: str, body: str) -> Optional[Dict]:\n        \"\"\"Create a new post\"\"\"\n        data = {\n            'userId': user_id,\n            'title': title,\n            'body': body\n        }\n        \n        try:\n            response = self.session.post(\n                f'{self.BASE_URL}/posts',\n                json=data,\n                timeout=10\n            )\n            response.raise_for_status()\n            return response.json()\n        except requests.exceptions.RequestException as e:\n            print(f\"Error creating post: {e}\")\n            return None\n\nprint(\"=== Testing Posts API ===\")\n\napi = PostsAPI()\n\n# Get all posts for user 1\nprint(\"\\nGetting posts for user 1...\")\nposts = api.get_user_posts(1)\nprint(f\"Found {len(posts)} posts\")\n\n# Show first 3\nprint(\"\\nFirst 3 posts:\")\nfor post in posts[:3]:\n    print(f\"  {api.format_post(post)}\")\n\n# Filter by keyword\nprint(\"\\nPosts containing 'sunt':\")\nfiltered = api.filter_posts_by_keyword(posts, 'sunt')\nfor post in filtered:\n    print(f\"  {api.format_post(post)}\")\n\n# Get specific post\nprint(\"\\nGetting post #1:\")\npost = api.get_post_by_id(1)\nif post:\n    print(f\"  {api.format_post(post)}\")\n    print(f\"  Body: {post['body'][:50]}...\")\n\n# Create new post\nprint(\"\\nCreating new post:\")\nnew_post = api.create_post(\n    user_id=1,\n    title='My Test Post',\n    body='This is a test post created via the API'\n)\n\nif new_post:\n    print(f\"  Created: {api.format_post(new_post)}\")\n    print(f\"  Assigned ID: {new_post['id']}\")\n\nprint(\"\\n=== Advanced: Search and Statistics ===\")\n\nclass AdvancedPostsAPI(PostsAPI):\n    \"\"\"Extended API client with analytics\"\"\"\n    \n    def search_posts(self, keyword: str, user_id: Optional[int] = None) -> List[Dict]:\n        \"\"\"Search all posts or for specific user\"\"\"\n        if user_id:\n            posts = self.get_user_posts(user_id)\n        else:\n            # Get all posts\n            response = self.session.get(f'{self.BASE_URL}/posts')\n            posts = response.json() if response.ok else []\n        \n        return self.filter_posts_by_keyword(posts, keyword)\n    \n    def get_post_stats(self, user_id: int) -> Dict:\n        \"\"\"Get statistics about user's posts\"\"\"\n        posts = self.get_user_posts(user_id)\n        \n        if not posts:\n            return {}\n        \n        total_chars = sum(len(post['body']) for post in posts)\n        avg_title_length = sum(len(post['title']) for post in posts) / len(posts)\n        \n        return {\n            'total_posts': len(posts),\n            'total_characters': total_chars,\n            'avg_body_length': total_chars / len(posts),\n            'avg_title_length': avg_title_length,\n            'longest_title': max(posts, key=lambda p: len(p['title']))['title']\n        }\n\nadvanced_api = AdvancedPostsAPI()\n\nprint(\"\\nSearching all posts for 'qui':\")\nresults = advanced_api.search_posts('qui')\nprint(f\"Found {len(results)} posts\")\nfor post in results[:3]:\n    print(f\"  {advanced_api.format_post(post)}\")\n\nprint(\"\\nPost statistics for user 1:\")\nstats = advanced_api.get_post_stats(1)\nfor key, value in stats.items():\n    if isinstance(value, float):\n        print(f\"  {key}: {value:.1f}\")\n    else:\n        print(f\"  {key}: {value}\")",
      "explanation": "**Complete API client solution:**\n\n**Key features:**\n1. **Session management** - Reuse connections\n2. **Error handling** - Try/except with specific exceptions\n3. **Type hints** - Clear interfaces\n4. **Timeouts** - Prevent hanging requests\n5. **Flexible filtering** - Case-insensitive search\n\n**Design patterns:**\n- Base class with core functionality\n- Extended class with advanced features\n- Separation of concerns (fetch vs format)\n- Consistent error handling\n\n**Real-world applications:**\n- API wrappers for third-party services\n- Data aggregation\n- Automated testing\n- Integration services",
      "output": "=== Testing Posts API ===\n\nGetting posts for user 1...\nFound 10 posts\n\nFirst 3 posts:\n  [1] sunt aut facere repellat provident occaecati excepturi optio reprehenderit\n  [2] qui est esse\n  [3] ea molestias quasi exercitationem repellat qui ipsa sit aut\n\nPosts containing 'sunt':\n  [1] sunt aut facere repellat provident occaecati excepturi optio reprehenderit\n\nGetting post #1:\n  [1] sunt aut facere repellat provident occaecati excepturi optio reprehenderit\n  Body: quia et suscipit\\nsuscipit recusandae consequun...\n\nCreating new post:\n  Created: [101] My Test Post\n  Assigned ID: 101\n\n=== Advanced: Search and Statistics ===\n\nSearching all posts for 'qui':\nFound 25 posts\n  [2] qui est esse\n  [3] ea molestias quasi exercitationem repellat qui ipsa sit aut\n  [4] eum et est occaecati\n\nPost statistics for user 1:\n  total_posts: 10\n  total_characters: 1667\n  avg_body_length: 166.7\n  avg_title_length: 57.4\n  longest_title: sunt aut facere repellat provident occaecati excepturi optio reprehenderit",
      "common_mistakes": [
        "Not handling network errors - always use try/except",
        "Forgetting timeouts - requests can hang indefinitely",
        "Not checking response.ok or status_code before parsing",
        "Making too many requests - use caching and rate limiting",
        "Hardcoding URLs - use constants or configuration"
      ]
    },
    {
      "type": "key_takeaways",
      "title": "Key Takeaways",
      "takeaways": [
        "**HTTP methods: GET (read), POST (create), PUT (update), DELETE (remove)**",
        "**requests library makes HTTP easy** - requests.get(), .post(), etc.",
        "**Always handle errors** - Network can fail, use try/except",
        "**response.json() parses JSON** - Most APIs return JSON",
        "**Use sessions for multiple requests** - Faster, maintains headers",
        "**Set timeouts** - Prevent hanging: timeout=10",
        "**Check response.ok or status_code** - Don't assume success",
        "**Type hints improve API clients** - Clear interfaces and documentation"
      ]
    }
  ],
  "checkpoint_quiz": {
    "questions": [
      {
        "id": 1,
        "type": "multiple_choice",
        "question": "Which HTTP method is used to retrieve data from an API?",
        "options": [
          "POST",
          "GET",
          "PUT",
          "DELETE"
        ],
        "correct_answer": 1,
        "explanation": "GET is used to retrieve/read data. POST creates, PUT updates, DELETE removes."
      },
      {
        "id": 2,
        "type": "multiple_choice",
        "question": "What does a 404 status code mean?",
        "options": [
          "Success",
          "Server error",
          "Not found",
          "Unauthorized"
        ],
        "correct_answer": 2,
        "explanation": "404 means the requested resource was not found. It's a client error (4xx series)."
      },
      {
        "id": 3,
        "type": "multiple_choice",
        "question": "How do you parse JSON from a response in the requests library?",
        "options": [
          "response.parse()",
          "response.json()",
          "json.loads(response)",
          "response.to_json()"
        ],
        "correct_answer": 1,
        "explanation": "response.json() parses the JSON response body and returns a Python dictionary or list."
      }
    ]
  }
}
