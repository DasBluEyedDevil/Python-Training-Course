{
  "lesson_id": "11_06",
  "title": "Mini-Project: RPG Character System",
  "module_id": 11,
  "order_index": 6,
  "description": "Build a complete RPG character system demonstrating all OOP concepts: classes, inheritance, polymorphism, encapsulation, and properties. Create warriors, mages, rogues with unique abilities.",
  "estimated_minutes": 45,
  "content_blocks": [
    {
      "type": "the_simplifier",
      "title": "Project Overview",
      "content": "**Build an RPG Character System!**\n\nCreate a role-playing game character system with:\n- Base Character class (parent)\n- Warrior, Mage, Rogue classes (children)\n- Inventory management\n- Combat system\n- Leveling and experience\n\n**OOP Concepts Applied:**\n\n1. **Classes & Objects**\n   - Character blueprint\n   - Multiple character instances\n\n2. **Inheritance**\n   - Character (parent)\n   - Warrior, Mage, Rogue (children)\n\n3. **Polymorphism**\n   - Each class has unique `special_attack()`\n   - All work with same combat system\n\n4. **Encapsulation**\n   - Private attributes (health, mana)\n   - Properties with validation\n\n5. **Class Attributes**\n   - Character count\n   - Class-specific bonuses\n\n**Project Structure:**\n```\nCharacter (base)\nâ”œâ”€â”€ Warrior (high HP, melee)\nâ”œâ”€â”€ Mage (magic, low HP)\nâ””â”€â”€ Rogue (speed, critical hits)\n```\n\n**Features:**\n- Health/Mana management with validation\n- Inventory system\n- Level-up mechanics\n- Unique abilities per class\n- Combat simulation"
    },
    {
      "type": "the_coder",
      "title": "Step 1: Base Character Class",
      "code": "class Character:\n    \"\"\"Base character class for RPG\"\"\"\n    \n    # Class attributes\n    total_characters = 0\n    \n    def __init__(self, name, char_class, level=1):\n        # Public attributes\n        self.name = name\n        self.char_class = char_class\n        self.level = level\n        \n        # Private attributes (encapsulation)\n        self.__health = 100\n        self.__max_health = 100\n        self.__mana = 50\n        self.__max_mana = 50\n        self.__experience = 0\n        \n        # Protected attributes\n        self._inventory = []\n        self._is_alive = True\n        \n        # Increment class counter\n        Character.total_characters += 1\n        print(f\"Character created: {name} the {char_class} (Level {level})\")\n    \n    # Properties with encapsulation\n    @property\n    def health(self):\n        return self.__health\n    \n    @health.setter\n    def health(self, value):\n        \"\"\"Set health with validation\"\"\"\n        if value > self.__max_health:\n            value = self.__max_health\n        if value <= 0:\n            value = 0\n            self._is_alive = False\n            print(f\"{self.name} has been defeated!\")\n        self.__health = value\n    \n    @property\n    def mana(self):\n        return self.__mana\n    \n    @mana.setter\n    def mana(self, value):\n        \"\"\"Set mana with validation\"\"\"\n        if value > self.__max_mana:\n            value = self.__max_mana\n        if value < 0:\n            value = 0\n        self.__mana = value\n    \n    @property\n    def max_health(self):\n        return self.__max_health\n    \n    @property\n    def max_mana(self):\n        return self.__max_mana\n    \n    @property\n    def experience(self):\n        return self.__experience\n    \n    # Instance methods\n    def attack(self, target):\n        \"\"\"Basic attack\"\"\"\n        damage = 10 * self.level\n        print(f\"{self.name} attacks {target.name} for {damage} damage!\")\n        target.take_damage(damage)\n        return damage\n    \n    def take_damage(self, amount):\n        \"\"\"Take damage\"\"\"\n        self.health -= amount\n        if self._is_alive:\n            print(f\"{self.name} has {self.health}/{self.max_health} HP remaining\")\n    \n    def heal(self, amount):\n        \"\"\"Heal character\"\"\"\n        old_health = self.health\n        self.health += amount\n        healed = self.health - old_health\n        print(f\"{self.name} healed for {healed} HP ({self.health}/{self.max_health})\")\n    \n    def add_experience(self, amount):\n        \"\"\"Add experience and check for level up\"\"\"\n        self.__experience += amount\n        exp_needed = self.level * 100\n        print(f\"{self.name} gained {amount} XP ({self.__experience}/{exp_needed})\")\n        \n        if self.__experience >= exp_needed:\n            self.level_up()\n    \n    def level_up(self):\n        \"\"\"Level up character\"\"\"\n        self.level += 1\n        self.__max_health += 20\n        self.__max_mana += 10\n        self.health = self.__max_health  # Full heal on level up\n        self.mana = self.__max_mana\n        self.__experience = 0\n        print(f\"ðŸŽ‰ {self.name} leveled up to {self.level}!\")\n        print(f\"   HP: {self.__max_health}, Mana: {self.__max_mana}\")\n    \n    def add_item(self, item):\n        \"\"\"Add item to inventory\"\"\"\n        self._inventory.append(item)\n        print(f\"{self.name} obtained: {item}\")\n    \n    def show_inventory(self):\n        \"\"\"Display inventory\"\"\"\n        if not self._inventory:\n            print(f\"{self.name}'s inventory is empty\")\n        else:\n            print(f\"{self.name}'s inventory:\")\n            for i, item in enumerate(self._inventory, 1):\n                print(f\"  {i}. {item}\")\n    \n    def special_attack(self, target):\n        \"\"\"Override in subclasses\"\"\"\n        raise NotImplementedError(\"Subclass must implement special_attack\")\n    \n    def __str__(self):\n        status = \"ALIVE\" if self._is_alive else \"DEFEATED\"\n        return f\"{self.name} | {self.char_class} | Lvl {self.level} | HP: {self.health}/{self.max_health} | Mana: {self.mana}/{self.max_mana} | {status}\"\n    \n    @classmethod\n    def get_character_count(cls):\n        return f\"Total characters created: {cls.total_characters}\"\n\nprint(\"=== Testing Base Character ===\")\nchar = Character(\"TestHero\", \"Generic\")\nprint(char)\nchar.add_item(\"Health Potion\")\nchar.add_item(\"Sword\")\nchar.show_inventory()\nprint(Character.get_character_count())",
      "explanation": "**Base Character class features:**\n\n**Encapsulation:**\n- Private attributes: `__health`, `__mana`, `__experience`\n- Properties with validation\n- Health can't exceed max or go below 0\n\n**Class attributes:**\n- `total_characters` tracks all characters\n\n**Instance methods:**\n- `attack()`, `take_damage()`, `heal()`\n- `add_experience()`, `level_up()`\n- `add_item()`, `show_inventory()`\n\n**Foundation for inheritance:**\n- Children will override `special_attack()`",
      "output": "=== Testing Base Character ===\nCharacter created: TestHero the Generic (Level 1)\nTestHero | Generic | Lvl 1 | HP: 100/100 | Mana: 50/50 | ALIVE\nTestHero obtained: Health Potion\nTestHero obtained: Sword\nTestHero's inventory:\n  1. Health Potion\n  2. Sword\nTotal characters created: 1"
    },
    {
      "type": "the_coder",
      "title": "Step 2: Warrior, Mage, Rogue Classes",
      "code": "class Warrior(Character):\n    \"\"\"Warrior class - high HP, melee damage\"\"\"\n    \n    # Class attribute\n    armor_bonus = 1.5\n    \n    def __init__(self, name, level=1):\n        super().__init__(name, \"Warrior\", level)\n        # Warriors start with more health\n        self._Character__max_health = 150\n        self.health = 150\n        self._rage = 0\n    \n    def special_attack(self, target):\n        \"\"\"Berserker Rage - powerful attack\"\"\"\n        if self._rage < 50:\n            print(f\"{self.name} needs 50 rage (has {self._rage})\")\n            return 0\n        \n        damage = 30 * self.level\n        self._rage = 0\n        print(f\"âš”ï¸  {self.name} uses BERSERKER RAGE!\")\n        print(f\"   Devastating attack for {damage} damage!\")\n        target.take_damage(damage)\n        return damage\n    \n    def attack(self, target):\n        \"\"\"Override attack to build rage\"\"\"\n        damage = super().attack(target)\n        self._rage += 20\n        print(f\"   Rage increased to {self._rage}\")\n        return damage\n\nclass Mage(Character):\n    \"\"\"Mage class - magic damage, low HP\"\"\"\n    \n    # Class attribute\n    spell_power = 1.8\n    \n    def __init__(self, name, level=1):\n        super().__init__(name, \"Mage\", level)\n        # Mages have less health but more mana\n        self._Character__max_health = 80\n        self._Character__max_mana = 100\n        self.health = 80\n        self.mana = 100\n    \n    def special_attack(self, target):\n        \"\"\"Fireball - magical damage\"\"\"\n        mana_cost = 30\n        if self.mana < mana_cost:\n            print(f\"{self.name} needs {mana_cost} mana (has {self.mana})\")\n            return 0\n        \n        self.mana -= mana_cost\n        damage = int(25 * self.level * self.spell_power)\n        print(f\"ðŸ”¥ {self.name} casts FIREBALL!\")\n        print(f\"   Magical damage: {damage}\")\n        target.take_damage(damage)\n        return damage\n    \n    def restore_mana(self, amount=20):\n        \"\"\"Mage-specific ability\"\"\"\n        old_mana = self.mana\n        self.mana += amount\n        restored = self.mana - old_mana\n        print(f\"{self.name} meditates, restoring {restored} mana ({self.mana}/{self.max_mana})\")\n\nclass Rogue(Character):\n    \"\"\"Rogue class - speed and critical hits\"\"\"\n    \n    # Class attribute\n    crit_chance = 0.3  # 30% crit chance\n    \n    def __init__(self, name, level=1):\n        super().__init__(name, \"Rogue\", level)\n        self._stealth = False\n    \n    def special_attack(self, target):\n        \"\"\"Backstab - critical damage from stealth\"\"\"\n        if not self._stealth:\n            print(f\"{self.name} needs to be in stealth!\")\n            return 0\n        \n        damage = 40 * self.level\n        self._stealth = False\n        print(f\"ðŸ—¡ï¸  {self.name} uses BACKSTAB from stealth!\")\n        print(f\"   Critical damage: {damage}\")\n        target.take_damage(damage)\n        return damage\n    \n    def enter_stealth(self):\n        \"\"\"Rogue-specific ability\"\"\"\n        self._stealth = True\n        print(f\"{self.name} enters stealth mode...\")\n    \n    def attack(self, target):\n        \"\"\"Override attack for critical hits\"\"\"\n        import random\n        damage = 10 * self.level\n        \n        if random.random() < self.crit_chance:\n            damage *= 2\n            print(f\"ðŸ’¥ CRITICAL HIT!\")\n        \n        print(f\"{self.name} attacks {target.name} for {damage} damage!\")\n        target.take_damage(damage)\n        return damage\n\nprint(\"\\n=== Creating Different Classes ===\")\nwarrior = Warrior(\"Conan\")\nmage = Mage(\"Gandalf\")\nrogue = Rogue(\"Assassin\")\n\nprint(\"\\n=== Character Stats ===\")\nprint(warrior)\nprint(mage)\nprint(rogue)\n\nprint(f\"\\n{Character.get_character_count()}\")",
      "explanation": "**Three character classes demonstrating inheritance:**\n\n**Warrior:**\n- Higher starting HP (150)\n- Builds rage with attacks\n- Special: Berserker Rage (requires 50 rage)\n\n**Mage:**\n- Lower HP (80), higher mana (100)\n- Special: Fireball (costs 30 mana)\n- Unique: restore_mana() ability\n\n**Rogue:**\n- Normal HP\n- Can enter stealth\n- Special: Backstab (requires stealth)\n- Critical hit chance on normal attacks\n\n**Key inheritance features:**\n- All call `super().__init__()`\n- Override `special_attack()` polymorphically\n- Some override `attack()` with enhanced versions\n- Access parent's private attributes via name mangling",
      "output": "=== Creating Different Classes ===\nCharacter created: Conan the Warrior (Level 1)\nCharacter created: Gandalf the Mage (Level 1)\nCharacter created: Assassin the Rogue (Level 1)\n\n=== Character Stats ===\nConan | Warrior | Lvl 1 | HP: 150/150 | Mana: 50/50 | ALIVE\nGandalf | Mage | Lvl 1 | HP: 80/80 | Mana: 100/100 | ALIVE\nAssassin | Rogue | Lvl 1 | HP: 100/100 | Mana: 50/50 | ALIVE\n\nTotal characters created: 4"
    },
    {
      "type": "the_coder",
      "title": "Step 3: Combat Simulation",
      "code": "def combat_demo():\n    \"\"\"Demonstrate polymorphic combat\"\"\"\n    print(\"\\n\" + \"=\"*50)\n    print(\"COMBAT ARENA\")\n    print(\"=\"*50)\n    \n    # Create fighters\n    hero = Warrior(\"Aragorn\", level=2)\n    villain = Mage(\"Saruman\", level=2)\n    \n    print(\"\\n=== Round 1: Basic Attacks ===\")\n    hero.attack(villain)\n    villain.attack(hero)\n    \n    print(\"\\n=== Round 2: More Attacks ===\")\n    hero.attack(villain)\n    villain.attack(hero)\n    \n    print(\"\\n=== Round 3: Special Attacks ===\")\n    # Warrior has rage now\n    hero.special_attack(villain)\n    # Mage casts fireball\n    villain.special_attack(hero)\n    \n    print(\"\\n=== Current Status ===\")\n    print(hero)\n    print(villain)\n    \n    print(\"\\n=== Healing ===\")\n    hero.heal(30)\n    villain.restore_mana(50)\n    \n    print(\"\\n=== Final Status ===\")\n    print(hero)\n    print(villain)\n\ndef polymorphism_demo():\n    \"\"\"Demonstrate polymorphism - different classes, same interface\"\"\"\n    print(\"\\n\" + \"=\"*50)\n    print(\"POLYMORPHISM DEMONSTRATION\")\n    print(\"=\"*50)\n    \n    # Create different character types\n    characters = [\n        Warrior(\"Brutor\"),\n        Mage(\"Merlin\"),\n        Rogue(\"Shadow\")\n    ]\n    \n    dummy = Character(\"Target Dummy\", \"Dummy\")\n    dummy.health = 500  # Lots of HP\n    \n    print(\"\\nAll characters attacking same target:\\n\")\n    \n    # Polymorphic loop - works with any Character subclass\n    for char in characters:\n        char.attack(dummy)\n        print()\n    \n    print(\"\\n=== Special Attacks ===\")\n    \n    # Warrior builds rage first\n    warrior = characters[0]\n    warrior.attack(dummy)\n    warrior.attack(dummy)\n    warrior.special_attack(dummy)  # Berserker Rage\n    \n    # Mage has mana\n    mage = characters[1]\n    mage.special_attack(dummy)  # Fireball\n    \n    # Rogue needs stealth\n    rogue = characters[2]\n    rogue.enter_stealth()\n    rogue.special_attack(dummy)  # Backstab\n    \n    print(f\"\\n{dummy.name}: {dummy.health}/{dummy.max_health} HP\")\n\ndef leveling_demo():\n    \"\"\"Demonstrate leveling system\"\"\"\n    print(\"\\n\" + \"=\"*50)\n    print(\"LEVELING SYSTEM\")\n    print(\"=\"*50)\n    \n    hero = Rogue(\"Leveling Hero\")\n    print(f\"\\nStarting stats: {hero}\")\n    \n    print(\"\\n=== Gaining Experience ===\")\n    hero.add_experience(50)\n    hero.add_experience(30)\n    hero.add_experience(30)  # Should level up (needs 100)\n    \n    print(f\"\\nAfter level up: {hero}\")\n    \n    print(\"\\n=== Inventory Management ===\")\n    hero.add_item(\"Dagger of Shadows\")\n    hero.add_item(\"Health Potion x3\")\n    hero.add_item(\"Smoke Bomb\")\n    hero.show_inventory()\n\n# Run all demonstrations\ncombat_demo()\npolymorphism_demo()\nleveling_demo()\n\nprint(\"\\n\" + \"=\"*50)\nprint(Character.get_character_count())\nprint(\"=\"*50)",
      "explanation": "**Combat system demonstrating all OOP concepts:**\n\n**1. Polymorphism:**\n- Different classes all have `attack()` and `special_attack()`\n- Same combat loop works for any character type\n- Each implements abilities differently\n\n**2. Encapsulation:**\n- Health/mana managed through properties\n- Validation prevents invalid values\n- Private attributes protected\n\n**3. Inheritance:**\n- All share Character base functionality\n- Each adds unique features\n- Override methods for custom behavior\n\n**4. Class attributes:**\n- `total_characters` tracks all instances\n- Each class has specific bonuses\n\n**Complete RPG foundation ready to extend!**",
      "output": "==================================================\nCOMBAT ARENA\n==================================================\n\nCharacter created: Aragorn the Warrior (Level 2)\nCharacter created: Saruman the Mage (Level 2)\n\n=== Round 1: Basic Attacks ===\nAragorn attacks Saruman for 20 damage!\nSaruman has 60/80 HP remaining\n   Rage increased to 20\nSaruman attacks Aragorn for 20 damage!\nAragorn has 130/150 HP remaining\n\n=== Round 2: More Attacks ===\nAragorn attacks Saruman for 20 damage!\nSaruman has 40/80 HP remaining\n   Rage increased to 40\nSaruman attacks Aragorn for 20 damage!\nAragorn has 110/150 HP remaining\n\n=== Round 3: Special Attacks ===\nAragorn needs 50 rage (has 40)\nSaruman attacks Aragorn for 0 damage!\nðŸ”¥ Saruman casts FIREBALL!\n   Magical damage: 90\nAragorn has 20/150 HP remaining\n\n=== Current Status ===\nAragorn | Warrior | Lvl 2 | HP: 20/150 | Mana: 50/50 | ALIVE\nSaruman | Mage | Lvl 2 | HP: 40/80 | Mana: 70/100 | ALIVE\n\n=== Healing ===\nAragorn healed for 30 HP (50/150)\nSaruman meditates, restoring 30 mana (100/100)\n\n=== Final Status ===\nAragorn | Warrior | Lvl 2 | HP: 50/150 | Mana: 50/50 | ALIVE\nSaruman | Mage | Lvl 2 | HP: 40/80 | Mana: 100/100 | ALIVE\n\n==================================================\nPOLYMORPHISM DEMONSTRATION\n==================================================\n\nCharacter created: Brutor the Warrior (Level 1)\nCharacter created: Merlin the Mage (Level 1)\nCharacter created: Shadow the Rogue (Level 1)\nCharacter created: Target Dummy the Dummy (Level 1)\n\nAll characters attacking same target:\n\nBrutor attacks Target Dummy for 10 damage!\nTarget Dummy has 490/100 HP remaining\n   Rage increased to 20\n\nMerlin attacks Target Dummy for 10 damage!\nTarget Dummy has 480/100 HP remaining\n\nShadow attacks Target Dummy for 10 damage!\nTarget Dummy has 470/100 HP remaining\n\n=== Special Attacks ===\nBrutor attacks Target Dummy for 10 damage!\nTarget Dummy has 460/100 HP remaining\n   Rage increased to 40\nBrutor attacks Target Dummy for 10 damage!\nTarget Dummy has 450/100 HP remaining\n   Rage increased to 60\nâš”ï¸  Brutor uses BERSERKER RAGE!\n   Devastating attack for 30 damage!\nTarget Dummy has 420/100 HP remaining\nðŸ”¥ Merlin casts FIREBALL!\n   Magical damage: 45\nTarget Dummy has 375/100 HP remaining\nShadow enters stealth mode...\nðŸ—¡ï¸  Shadow uses BACKSTAB from stealth!\n   Critical damage: 40\nTarget Dummy has 335/100 HP remaining\n\nTarget Dummy: 335/100 HP\n\n==================================================\nLEVELING SYSTEM\n==================================================\n\nCharacter created: Leveling Hero the Rogue (Level 1)\n\nStarting stats: Leveling Hero | Rogue | Lvl 1 | HP: 100/100 | Mana: 50/50 | ALIVE\n\n=== Gaining Experience ===\nLeveling Hero gained 50 XP (50/100)\nLeveling Hero gained 30 XP (80/100)\nLeveling Hero gained 30 XP (110/100)\nðŸŽ‰ Leveling Hero leveled up to 2!\n   HP: 120, Mana: 60\n\nAfter level up: Leveling Hero | Rogue | Lvl 2 | HP: 120/120 | Mana: 60/60 | ALIVE\n\n=== Inventory Management ===\nLeveling Hero obtained: Dagger of Shadows\nLeveling Hero obtained: Health Potion x3\nLeveling Hero obtained: Smoke Bomb\nLeveling Hero's inventory:\n  1. Dagger of Shadows\n  2. Health Potion x3\n  3. Smoke Bomb\n\n==================================================\nTotal characters created: 9\n=================================================="
    },
    {
      "type": "key_takeaways",
      "title": "Key Takeaways",
      "takeaways": [
        "**OOP organizes complex systems** - RPG demonstrates real-world structure",
        "**Inheritance creates hierarchies** - Character â†’ Warrior/Mage/Rogue",
        "**Polymorphism enables flexibility** - Same combat loop, different behaviors",
        "**Encapsulation protects data** - Health/mana validated through properties",
        "**Properties provide controlled access** - Can't set invalid values",
        "**Class attributes track shared data** - Total character count",
        "**Method overriding customizes behavior** - Each class has unique attacks",
        "**super() maintains parent functionality** - Call parent then add custom logic"
      ]
    }
  ],
  "checkpoint_quiz": {
    "questions": [
      {
        "id": 1,
        "type": "multiple_choice",
        "question": "In the RPG project, why are health and mana private attributes?",
        "options": [
          "To make the code run faster",
          "To prevent direct modification and enforce validation through properties",
          "To hide them from all methods",
          "They are not private, they are public"
        ],
        "correct_answer": 1,
        "explanation": "Health and mana are private (__health, __mana) and accessed through properties. This ensures validation - health can't exceed max or go negative, enforcing game rules."
      },
      {
        "id": 2,
        "type": "multiple_choice",
        "question": "How does polymorphism work in the combat system?",
        "options": [
          "Each class has completely different methods",
          "All classes implement attack() and special_attack(), allowing uniform combat logic",
          "Only one class can be used at a time",
          "Polymorphism is not used in this project"
        ],
        "correct_answer": 1,
        "explanation": "All character classes implement the same methods (attack, special_attack) but with different behaviors. This allows the combat system to work with any character type uniformly."
      },
      {
        "id": 3,
        "type": "multiple_choice",
        "question": "What OOP principle is demonstrated by Warrior, Mage, and Rogue all inheriting from Character?",
        "options": [
          "Polymorphism",
          "Encapsulation",
          "Inheritance",
          "Abstraction"
        ],
        "correct_answer": 2,
        "explanation": "Inheritance is demonstrated - Warrior, Mage, and Rogue inherit common functionality from Character (health, level, inventory) while adding their own unique features."
      }
    ]
  }
}
