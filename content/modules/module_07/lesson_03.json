{
  "lesson_id": 3,
  "module_id": 7,
  "title": "Nested Dictionaries and Complex Data",
  "duration": "30 minutes",
  "objectives": [
    "Understand how to create and use nested dictionaries",
    "Learn to access values in multi-level dictionary structures",
    "Master working with lists of dictionaries and dictionaries of lists",
    "Model real-world hierarchical data effectively"
  ],
  "sections": [
    {
      "role": "The Simplifier",
      "title": "The Concept",
      "content": "<h3>ğŸ¢ Nested Dictionaries: Data Within Data</h3><p><strong>Real-World Analogy First:</strong></p><p>Think of a company's organizational structure:</p><ul><li>ğŸ¢ <strong>Company</strong> (main dictionary)<ul><li>ğŸ“ <strong>HR Department</strong> (nested dictionary)<ul><li>ğŸ‘¤ <strong>Employees</strong> (list of dictionaries)<ul><li>Each employee has name, position, salary (properties)</li></ul></li></ul></li><li>ğŸ“ <strong>Engineering Department</strong> (nested dictionary)<ul><li>ğŸ‘¤ <strong>Employees</strong> (list of dictionaries)</li><li>ğŸ› ï¸ <strong>Projects</strong> (list of dictionaries)</li></ul></li></ul></li></ul><p>This is like Russian nesting dolls - dictionaries inside dictionaries inside dictionaries! Each level contains more detailed information.</p><hr><p><strong>Now The Technical Term:</strong></p><p>A <strong>nested dictionary</strong> is a dictionary that contains other dictionaries (or lists, or other complex structures) as values. This allows you to represent hierarchical, multi-level data just like JSON, databases, or real-world relationships.</p><p><strong>Common Nested Structures:</strong></p><ol><li><strong>Dictionary of Dictionaries:</strong> <code>{\"user1\": {\"name\": \"Alice\", \"age\": 25}}</code></li><li><strong>Dictionary of Lists:</strong> <code>{\"fruits\": [\"apple\", \"banana\"], \"veggies\": [\"carrot\"]}</code></li><li><strong>List of Dictionaries:</strong> <code>[{\"name\": \"Alice\"}, {\"name\": \"Bob\"}]</code></li></ol><p><strong>Why Nested Structures Matter:</strong></p><ul><li>âœ… <strong>Model real-world data:</strong> Users with addresses, orders with items</li><li>âœ… <strong>Organize complex information:</strong> Group related data logically</li><li>âœ… <strong>Work with APIs/JSON:</strong> Most APIs return nested structures</li><li>âœ… <strong>Database-like structures:</strong> Tables with rows and columns</li></ul>"
    },
    {
      "role": "The Coder",
      "title": "Code Example",
      "content": "<h3>ğŸ’» Working with Nested Dictionaries</h3><p>Let's explore different nested structures:</p>",
      "code": "# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n# EXAMPLE 1: Dictionary of Dictionaries\n# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\nprint(\"Example 1: Dictionary of dictionaries - User database\")\nprint()\n\nusers = {\n    \"alice\": {\n        \"full_name\": \"Alice Johnson\",\n        \"age\": 28,\n        \"email\": \"alice@example.com\",\n        \"role\": \"admin\"\n    },\n    \"bob\": {\n        \"full_name\": \"Bob Smith\",\n        \"age\": 35,\n        \"email\": \"bob@example.com\",\n        \"role\": \"user\"\n    },\n    \"carol\": {\n        \"full_name\": \"Carol Davis\",\n        \"age\": 42,\n        \"email\": \"carol@example.com\",\n        \"role\": \"moderator\"\n    }\n}\n\n# Access nested values\nprint(f\"Alice's full name: {users['alice']['full_name']}\")\nprint(f\"Bob's age: {users['bob']['age']}\")\nprint(f\"Carol's role: {users['carol']['role']}\")\nprint()\n\n# Iterate over nested structure\nprint(\"All users:\")\nfor username, user_info in users.items():\n    print(f\"  {username}:\")\n    for key, value in user_info.items():\n        print(f\"    {key}: {value}\")\nprint()\n\n# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n# EXAMPLE 2: List of Dictionaries\n# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\nprint(\"Example 2: List of dictionaries - Student records\")\nprint()\n\nstudents = [\n    {\"name\": \"Alice\", \"grade\": 85, \"major\": \"CS\"},\n    {\"name\": \"Bob\", \"grade\": 92, \"major\": \"Math\"},\n    {\"name\": \"Carol\", \"grade\": 78, \"major\": \"CS\"},\n    {\"name\": \"Dave\", \"grade\": 88, \"major\": \"Physics\"}\n]\n\n# Access by index, then by key\nprint(f\"First student: {students[0]['name']}\")\nprint(f\"Second student's grade: {students[1]['grade']}\")\nprint()\n\n# Iterate over list of dicts\nprint(\"All students:\")\nfor student in students:\n    print(f\"  {student['name']}: {student['grade']} ({student['major']})\")\nprint()\n\n# Filter list of dicts\ncs_students = [s for s in students if s['major'] == 'CS']\nprint(\"CS students:\")\nfor student in cs_students:\n    print(f\"  {student['name']}: {student['grade']}\")\nprint()\n\n# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n# EXAMPLE 3: Dictionary of Lists\n# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\nprint(\"Example 3: Dictionary of lists - Course enrollments\")\nprint()\n\ncourses = {\n    \"CS101\": [\"Alice\", \"Bob\", \"Eve\"],\n    \"MATH201\": [\"Bob\", \"Carol\", \"Dave\"],\n    \"PHYS101\": [\"Dave\", \"Eve\"],\n    \"CS201\": [\"Alice\", \"Carol\"]\n}\n\nprint(\"Course enrollments:\")\nfor course, students in courses.items():\n    print(f\"  {course}: {len(students)} students\")\n    for student in students:\n        print(f\"    - {student}\")\nprint()\n\n# Find all courses a student is taking\nstudent_name = \"Bob\"\nprint(f\"{student_name}'s courses:\")\nfor course, students in courses.items():\n    if student_name in students:\n        print(f\"  - {course}\")\nprint()\n\n# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n# EXAMPLE 4: Deeply Nested Structure\n# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\nprint(\"Example 4: Deeply nested - School database\")\nprint()\n\nschool = {\n    \"name\": \"Tech High School\",\n    \"address\": \"123 Main St\",\n    \"departments\": {\n        \"Science\": {\n            \"head\": \"Dr. Johnson\",\n            \"teachers\": [\n                {\"name\": \"Ms. Smith\", \"subject\": \"Biology\"},\n                {\"name\": \"Mr. Lee\", \"subject\": \"Chemistry\"}\n            ],\n            \"classrooms\": [\"201\", \"202\", \"203\"]\n        },\n        \"Math\": {\n            \"head\": \"Dr. Williams\",\n            \"teachers\": [\n                {\"name\": \"Ms. Davis\", \"subject\": \"Algebra\"},\n                {\"name\": \"Mr. Brown\", \"subject\": \"Calculus\"}\n            ],\n            \"classrooms\": [\"101\", \"102\"]\n        }\n    }\n}\n\n# Access deeply nested values\nprint(f\"School name: {school['name']}\")\nprint(f\"Science head: {school['departments']['Science']['head']}\")\nprint(f\"First science teacher: {school['departments']['Science']['teachers'][0]['name']}\")\nprint()\n\n# Navigate complex structure\nprint(\"Department summary:\")\nfor dept_name, dept_info in school['departments'].items():\n    print(f\"\\n{dept_name} Department:\")\n    print(f\"  Head: {dept_info['head']}\")\n    print(f\"  Teachers: {len(dept_info['teachers'])}\")\n    for teacher in dept_info['teachers']:\n        print(f\"    - {teacher['name']} ({teacher['subject']})\")\n    print(f\"  Classrooms: {', '.join(dept_info['classrooms'])}\")\nprint()\n\n# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n# EXAMPLE 5: Modifying Nested Structures\n# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\nprint(\"Example 5: Modifying nested data\")\nprint()\n\nprofile = {\n    \"username\": \"alice\",\n    \"personal\": {\n        \"name\": \"Alice Johnson\",\n        \"age\": 28\n    },\n    \"preferences\": {\n        \"theme\": \"dark\",\n        \"language\": \"en\"\n    },\n    \"activity\": {\n        \"posts\": 45,\n        \"comments\": 123\n    }\n}\n\nprint(f\"Original profile: {profile}\")\nprint()\n\n# Modify nested value\nprofile['personal']['age'] = 29\nprint(f\"Updated age: {profile['personal']['age']}\")\n\n# Add new key to nested dict\nprofile['personal']['city'] = \"New York\"\nprint(f\"Added city: {profile['personal']}\")\n\n# Add entire new nested section\nprofile['settings'] = {\n    \"notifications\": True,\n    \"privacy\": \"friends_only\"\n}\nprint(f\"Added settings: {profile['settings']}\")\n\n# Update nested value safely\nold_theme = profile['preferences'].get('theme', 'light')\nprofile['preferences']['theme'] = 'light' if old_theme == 'dark' else 'dark'\nprint(f\"Toggled theme to: {profile['preferences']['theme']}\")\nprint()\n\n# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n# EXAMPLE 6: Safe Access with .get()\n# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\nprint(\"Example 6: Safe access in nested structures\")\nprint()\n\nuser = {\n    \"name\": \"Bob\",\n    \"contact\": {\n        \"email\": \"bob@example.com\"\n    }\n}\n\n# âŒ Unsafe - will crash if key doesn't exist\ntry:\n    phone = user['contact']['phone']  # KeyError!\nexcept KeyError:\n    print(\"âŒ Direct access crashed: phone doesn't exist\")\n\n# âœ… Safe with .get()\nphone = user.get('contact', {}).get('phone', 'N/A')\nprint(f\"âœ… Safe access: {phone}\")\n\n# âœ… Check before accessing\nif 'contact' in user and 'phone' in user['contact']:\n    phone = user['contact']['phone']\nelse:\n    phone = 'N/A'\nprint(f\"âœ… Checked first: {phone}\")",
      "output": "Example 1: Dictionary of dictionaries - User database\n\nAlice's full name: Alice Johnson\nBob's age: 35\nCarol's role: moderator\n\nAll users:\n  alice:\n    full_name: Alice Johnson\n    age: 28\n    email: alice@example.com\n    role: admin\n  bob:\n    full_name: Bob Smith\n    age: 35\n    email: bob@example.com\n    role: user\n  carol:\n    full_name: Carol Davis\n    age: 42\n    email: carol@example.com\n    role: moderator\n\nExample 2: List of dictionaries - Student records\n\nFirst student: Alice\nSecond student's grade: 92\n\nAll students:\n  Alice: 85 (CS)\n  Bob: 92 (Math)\n  Carol: 78 (CS)\n  Dave: 88 (Physics)\n\nCS students:\n  Alice: 85\n  Carol: 78\n\nExample 3: Dictionary of lists - Course enrollments\n\nCourse enrollments:\n  CS101: 3 students\n    - Alice\n    - Bob\n    - Eve\n  MATH201: 3 students\n    - Bob\n    - Carol\n    - Dave\n  PHYS101: 2 students\n    - Dave\n    - Eve\n  CS201: 2 students\n    - Alice\n    - Carol\n\nBob's courses:\n  - CS101\n  - MATH201\n\nExample 4: Deeply nested - School database\n\nSchool name: Tech High School\nScience head: Dr. Johnson\nFirst science teacher: Ms. Smith\n\nDepartment summary:\n\nScience Department:\n  Head: Dr. Johnson\n  Teachers: 2\n    - Ms. Smith (Biology)\n    - Mr. Lee (Chemistry)\n  Classrooms: 201, 202, 203\n\nMath Department:\n  Head: Dr. Williams\n  Teachers: 2\n    - Ms. Davis (Algebra)\n    - Mr. Brown (Calculus)\n  Classrooms: 101, 102\n\nExample 5: Modifying nested data\n\nOriginal profile: {'username': 'alice', 'personal': {'name': 'Alice Johnson', 'age': 28}, 'preferences': {'theme': 'dark', 'language': 'en'}, 'activity': {'posts': 45, 'comments': 123}}\n\nUpdated age: 29\nAdded city: {'name': 'Alice Johnson', 'age': 29, 'city': 'New York'}\nAdded settings: {'notifications': True, 'privacy': 'friends_only'}\nToggled theme to: light\n\nExample 6: Safe access in nested structures\n\nâŒ Direct access crashed: phone doesn't exist\nâœ… Safe access: N/A\nâœ… Checked first: N/A"
    },
    {
      "role": "The Simplifier",
      "title": "Syntax Breakdown",
      "content": "<h3>ğŸ” Understanding Nested Dictionary Access</h3><p><strong>Part 1: Accessing Nested Values</strong></p><pre><code># Dictionary of dictionaries\nusers = {\n    \"alice\": {\"name\": \"Alice\", \"age\": 25}\n}\n\n# Access with multiple brackets\nname = users[\"alice\"][\"name\"]\n       ^^^^^^^^^^^^^^^^^^^^^^  \n       outer key  inner key</code></pre><ul><li>ğŸ“Œ First bracket gets outer dictionary value</li><li>ğŸ“Œ Second bracket accesses key in inner dictionary</li><li>ğŸ“Œ Can chain indefinitely: <code>dict[key1][key2][key3]</code></li></ul><hr><p><strong>Part 2: List of Dictionaries Access</strong></p><pre><code># List of dictionaries\nstudents = [\n    {\"name\": \"Alice\", \"grade\": 85},\n    {\"name\": \"Bob\", \"grade\": 92}\n]\n\n# Access by index, then key\nname = students[0][\"name\"]\n       ^^^^^^^^^^^^^^^^^^  \n       list index  dict key</code></pre><ul><li>ğŸ“Œ Use numeric index to get dictionary from list</li><li>ğŸ“Œ Then use string key to get value from dictionary</li><li>ğŸ“Œ Order: list index first, then dict key</li></ul><hr><p><strong>Part 3: Dictionary of Lists Access</strong></p><pre><code># Dictionary of lists\ncourses = {\n    \"CS101\": [\"Alice\", \"Bob\", \"Carol\"]\n}\n\n# Access key, then list index\nfirst_student = courses[\"CS101\"][0]\n                ^^^^^^^^^^^^^^^^^^  \n                dict key   list index</code></pre><ul><li>ğŸ“Œ Use key to get list from dictionary</li><li>ğŸ“Œ Then use numeric index to get item from list</li><li>ğŸ“Œ Order: dict key first, then list index</li></ul><hr><p><strong>Part 4: Deeply Nested Access</strong></p><pre><code>school = {\n    \"departments\": {\n        \"Science\": {\n            \"teachers\": [\n                {\"name\": \"Ms. Smith\", \"subject\": \"Biology\"}\n            ]\n        }\n    }\n}\n\n# Multi-level access\nname = school[\"departments\"][\"Science\"][\"teachers\"][0][\"name\"]\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^  \n       Level 1    Level 2      Level 3      Index   Level 4</code></pre><ul><li>ğŸ“Œ Follow the path from outer to inner</li><li>ğŸ“Œ Each bracket navigates one level deeper</li><li>ğŸ“Œ Mix dict keys and list indices as needed</li></ul><hr><p><strong>Part 5: Safe Access Pattern</strong></p><pre><code># âŒ UNSAFE - crashes if any level doesn't exist\nphone = user['contact']['phone']\n\n# âœ… SAFE - chain .get() calls\nphone = user.get('contact', {}).get('phone', 'N/A')\n        ^^^^^^^^^^^^^^^^^^^^^^  \n        Returns empty dict {} if 'contact' doesn't exist,\n        then .get('phone') on that empty dict returns 'N/A'</code></pre><ul><li>ğŸ“Œ Use <code>.get()</code> at each level</li><li>ğŸ“Œ Provide empty dict <code>{}</code> as default for intermediate levels</li><li>ğŸ“Œ Provide actual default for final level</li></ul><hr><p><strong>Part 6: Modifying Nested Values</strong></p><pre><code># Change nested value\nprofile['personal']['age'] = 29\n\n# Add to nested dict\nprofile['personal']['city'] = 'NYC'\n\n# Add entire nested section\nprofile['settings'] = {'theme': 'dark'}</code></pre><ul><li>ğŸ“Œ Navigate to location, then assign</li><li>ğŸ“Œ All intermediate levels must exist</li><li>ğŸ“Œ Assignment creates or updates</li></ul><hr><p><strong>Part 7: Iterating Nested Structures</strong></p><pre><code># Dictionary of dictionaries\nfor outer_key, inner_dict in outer_dict.items():\n    for inner_key, value in inner_dict.items():\n        # Process value\n\n# List of dictionaries\nfor dict_item in list_of_dicts:\n    for key, value in dict_item.items():\n        # Process value\n\n# Dictionary of lists\nfor key, list_items in dict_of_lists.items():\n    for item in list_items:\n        # Process item</code></pre><hr><p><strong>Visual Model:</strong></p><pre><code>NESTED DICTIONARY STRUCTURE:\n\nusers = {\n    \"alice\": {             â† Outer dict\n        \"name\": \"Alice\",   â† Inner dict\n        \"scores\": [85, 92]  â† List inside inner dict\n    }\n}\n\nACCESS PATHS:\n\nusers[\"alice\"]              â†’ {\"name\": \"Alice\", \"scores\": [85, 92]}\n     â””â”€ Key: \"alice\"\n\nusers[\"alice\"][\"name\"]      â†’ \"Alice\"\n     â””â”€ Key: \"alice\" â””â”€ Key: \"name\"\n\nusers[\"alice\"][\"scores\"][0] â†’ 85\n     â””â”€ Key: \"alice\" â””â”€ Key: \"scores\" â””â”€ Index: 0</code></pre><hr><p><strong>Common Patterns:</strong></p><pre><code># Pattern 1: Initialize nested dict if doesn't exist\nif key not in data:\n    data[key] = {}\ndata[key]['property'] = value\n\n# Pattern 2: Using setdefault\ndata.setdefault(key, {})['property'] = value\n\n# Pattern 3: Safe nested access\nvalue = data.get('level1', {}).get('level2', default)\n\n# Pattern 4: Check before deep access\nif 'level1' in data and 'level2' in data['level1']:\n    value = data['level1']['level2']</code></pre>"
    },
    {
      "role": "The Coder",
      "title": "Exercise",
      "content": "<h3>âœï¸ Your Turn: Company Organizational Structure</h3><p><strong>Challenge:</strong> Create a nested dictionary representing a company with departments, employees, and projects.</p><p><strong>Requirements:</strong></p><ol><li><strong>Create the structure:</strong> A dictionary with:<ul><li>Company name</li><li>A \"departments\" dictionary containing at least 2 departments</li><li>Each department has:<ul><li>Department head (name)</li><li>A list of employees (each employee is a dict with name, position, salary)</li><li>A list of active projects (each project is a dict with name, budget, status)</li></ul></li></ul></li><li><strong>Access and display:</strong><ul><li>Print the company name</li><li>Print the name of the Engineering department head</li><li>Print the first employee's name in Sales department</li><li>Print the budget of the first project in Engineering</li></ul></li><li><strong>Modify the structure:</strong><ul><li>Add a new employee to the Sales department</li><li>Change the status of a project from \"in_progress\" to \"completed\"</li><li>Increase all salaries in Engineering by 10%</li></ul></li><li><strong>Analysis:</strong><ul><li>Calculate total employees across all departments</li><li>Find the department with the highest average salary</li><li>List all projects with status \"in_progress\"</li></ul></li></ol>",
      "starter_code": "# Create your company structure\ncompany = {\n    \"name\": \"TechCorp\",\n    \"departments\": {\n        \"Engineering\": {\n            \"head\": \"Dr. Smith\",\n            \"employees\": [\n                # Add at least 2 employees\n            ],\n            \"projects\": [\n                # Add at least 2 projects\n            ]\n        },\n        \"Sales\": {\n            \"head\": \"Ms. Johnson\",\n            \"employees\": [\n                # Add at least 2 employees\n            ],\n            \"projects\": [\n                # Add at least 1 project\n            ]\n        }\n    }\n}\n\nprint(\"ğŸ¢ COMPANY ORGANIZATIONAL STRUCTURE\")\nprint(\"â•\" * 60)\n\n# Task 1: Access and display information\nprint(\"\\nTask 1: Basic Information\")\nprint(\"â”€\" * 60)\n# Your code here\n\n# Task 2: Modify the structure\nprint(\"\\nTask 2: Modifications\")\nprint(\"â”€\" * 60)\n# Your code here\n\n# Task 3: Analysis\nprint(\"\\nTask 3: Analysis\")\nprint(\"â”€\" * 60)\n# Your code here\n"
    },
    {
      "role": "The Coder",
      "title": "Solution",
      "content": "<h3>âœ… Solution: Company Organizational Structure</h3>",
      "code": "# Create comprehensive company structure\ncompany = {\n    \"name\": \"TechCorp Industries\",\n    \"founded\": 2015,\n    \"departments\": {\n        \"Engineering\": {\n            \"head\": \"Dr. Sarah Smith\",\n            \"employees\": [\n                {\"name\": \"Alice Johnson\", \"position\": \"Senior Developer\", \"salary\": 120000},\n                {\"name\": \"Bob Chen\", \"position\": \"DevOps Engineer\", \"salary\": 110000},\n                {\"name\": \"Carol Martinez\", \"position\": \"Junior Developer\", \"salary\": 85000}\n            ],\n            \"projects\": [\n                {\"name\": \"Cloud Migration\", \"budget\": 500000, \"status\": \"in_progress\"},\n                {\"name\": \"Mobile App v2.0\", \"budget\": 300000, \"status\": \"planning\"}\n            ]\n        },\n        \"Sales\": {\n            \"head\": \"Ms. Jennifer Johnson\",\n            \"employees\": [\n                {\"name\": \"David Lee\", \"position\": \"Sales Manager\", \"salary\": 95000},\n                {\"name\": \"Emma Wilson\", \"position\": \"Sales Rep\", \"salary\": 75000}\n            ],\n            \"projects\": [\n                {\"name\": \"Q4 Campaign\", \"budget\": 150000, \"status\": \"in_progress\"}\n            ]\n        },\n        \"Marketing\": {\n            \"head\": \"Mr. Michael Brown\",\n            \"employees\": [\n                {\"name\": \"Fiona Taylor\", \"position\": \"Marketing Director\", \"salary\": 105000},\n                {\"name\": \"George Adams\", \"position\": \"Content Writer\", \"salary\": 70000}\n            ],\n            \"projects\": [\n                {\"name\": \"Brand Refresh\", \"budget\": 200000, \"status\": \"completed\"},\n                {\"name\": \"Social Media Campaign\", \"budget\": 80000, \"status\": \"in_progress\"}\n            ]\n        }\n    }\n}\n\nprint(\"ğŸ¢ COMPANY ORGANIZATIONAL STRUCTURE\")\nprint(\"â•\" * 60)\n\n# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n# Task 1: Access and display information\n# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\nprint(\"\\nTask 1: Basic Information\")\nprint(\"â”€\" * 60)\n\n# Company name\nprint(f\"Company Name: {company['name']}\")\nprint(f\"Founded: {company['founded']}\")\nprint()\n\n# Engineering department head\neng_head = company['departments']['Engineering']['head']\nprint(f\"Engineering Department Head: {eng_head}\")\n\n# First employee in Sales\nfirst_sales_emp = company['departments']['Sales']['employees'][0]['name']\nprint(f\"First Sales Employee: {first_sales_emp}\")\n\n# First Engineering project budget\nfirst_project_budget = company['departments']['Engineering']['projects'][0]['budget']\nfirst_project_name = company['departments']['Engineering']['projects'][0]['name']\nprint(f\"First Engineering Project: {first_project_name}\")\nprint(f\"  Budget: ${first_project_budget:,}\")\n\n# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n# Task 2: Modify the structure\n# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\nprint(\"\\nTask 2: Modifications\")\nprint(\"â”€\" * 60)\n\n# Add new employee to Sales\nnew_employee = {\"name\": \"Henry Davis\", \"position\": \"Sales Rep\", \"salary\": 72000}\ncompany['departments']['Sales']['employees'].append(new_employee)\nprint(f\"âœ… Added new Sales employee: {new_employee['name']}\")\nprint(f\"   Sales team now has {len(company['departments']['Sales']['employees'])} members\")\nprint()\n\n# Change project status\nfor project in company['departments']['Engineering']['projects']:\n    if project['status'] == 'in_progress':\n        project['status'] = 'completed'\n        print(f\"âœ… Updated '{project['name']}' status to: {project['status']}\")\n        break\nprint()\n\n# Increase Engineering salaries by 10%\nprint(\"ğŸ’° Giving Engineering department 10% raise:\")\nfor employee in company['departments']['Engineering']['employees']:\n    old_salary = employee['salary']\n    employee['salary'] = int(employee['salary'] * 1.10)\n    print(f\"  {employee['name']}: ${old_salary:,} â†’ ${employee['salary']:,}\")\n\n# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n# Task 3: Analysis\n# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\nprint(\"\\nTask 3: Analysis\")\nprint(\"â”€\" * 60)\n\n# Total employees\ntotal_employees = 0\nfor dept_name, dept_info in company['departments'].items():\n    dept_count = len(dept_info['employees'])\n    total_employees += dept_count\n    print(f\"{dept_name}: {dept_count} employees\")\nprint(f\"\\nğŸ“Š Total Employees: {total_employees}\")\nprint()\n\n# Department with highest average salary\nprint(\"ğŸ’µ Average Salaries by Department:\")\nhighest_avg = 0\nhighest_dept = \"\"\n\nfor dept_name, dept_info in company['departments'].items():\n    salaries = [emp['salary'] for emp in dept_info['employees']]\n    avg_salary = sum(salaries) / len(salaries) if salaries else 0\n    print(f\"  {dept_name}: ${avg_salary:,.2f}\")\n    \n    if avg_salary > highest_avg:\n        highest_avg = avg_salary\n        highest_dept = dept_name\n\nprint(f\"\\nğŸ† Highest average salary: {highest_dept} (${highest_avg:,.2f})\")\nprint()\n\n# All in-progress projects\nprint(\"ğŸš€ Projects In Progress:\")\nin_progress_count = 0\nfor dept_name, dept_info in company['departments'].items():\n    for project in dept_info['projects']:\n        if project['status'] == 'in_progress':\n            in_progress_count += 1\n            print(f\"  â€¢ {project['name']} ({dept_name})\")\n            print(f\"    Budget: ${project['budget']:,}\")\n\nprint(f\"\\nTotal in-progress projects: {in_progress_count}\")\nprint()\n\n# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n# BONUS: Department Summary\n# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\nprint(\"\\nğŸ“‹ COMPLETE DEPARTMENT SUMMARY\")\nprint(\"â•\" * 60)\n\nfor dept_name, dept_info in company['departments'].items():\n    print(f\"\\n{dept_name.upper()} DEPARTMENT\")\n    print(\"â”€\" * 60)\n    print(f\"Head: {dept_info['head']}\")\n    print(f\"\\nEmployees ({len(dept_info['employees'])}):\")\n    \n    for emp in dept_info['employees']:\n        print(f\"  â€¢ {emp['name']}\")\n        print(f\"    Position: {emp['position']}\")\n        print(f\"    Salary: ${emp['salary']:,}\")\n    \n    print(f\"\\nProjects ({len(dept_info['projects'])}):\")\n    for proj in dept_info['projects']:\n        status_icon = \"âœ…\" if proj['status'] == 'completed' else \"ğŸ”„\" if proj['status'] == 'in_progress' else \"ğŸ“‹\"\n        print(f\"  {status_icon} {proj['name']}\")\n        print(f\"     Budget: ${proj['budget']:,} | Status: {proj['status']}\")\n\nprint(\"\\n\" + \"â•\" * 60)\nprint(\"Analysis complete!\")\nprint(\"â•\" * 60)",
      "output": "ğŸ¢ COMPANY ORGANIZATIONAL STRUCTURE\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\nTask 1: Basic Information\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nCompany Name: TechCorp Industries\nFounded: 2015\n\nEngineering Department Head: Dr. Sarah Smith\nFirst Sales Employee: David Lee\nFirst Engineering Project: Cloud Migration\n  Budget: $500,000\n\nTask 2: Modifications\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nâœ… Added new Sales employee: Henry Davis\n   Sales team now has 3 members\n\nâœ… Updated 'Cloud Migration' status to: completed\n\nğŸ’° Giving Engineering department 10% raise:\n  Alice Johnson: $120,000 â†’ $132,000\n  Bob Chen: $110,000 â†’ $121,000\n  Carol Martinez: $85,000 â†’ $93,500\n\nTask 3: Analysis\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nEngineering: 3 employees\nSales: 3 employees\nMarketing: 2 employees\n\nğŸ“Š Total Employees: 8\n\nğŸ’µ Average Salaries by Department:\n  Engineering: $115,500.00\n  Sales: $80,666.67\n  Marketing: $87,500.00\n\nğŸ† Highest average salary: Engineering ($115,500.00)\n\nğŸš€ Projects In Progress:\n  â€¢ Q4 Campaign (Sales)\n    Budget: $150,000\n  â€¢ Social Media Campaign (Marketing)\n    Budget: $80,000\n\nTotal in-progress projects: 2\n\nğŸ“‹ COMPLETE DEPARTMENT SUMMARY\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\nENGINEERING DEPARTMENT\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nHead: Dr. Sarah Smith\n\nEmployees (3):\n  â€¢ Alice Johnson\n    Position: Senior Developer\n    Salary: $132,000\n  â€¢ Bob Chen\n    Position: DevOps Engineer\n    Salary: $121,000\n  â€¢ Carol Martinez\n    Position: Junior Developer\n    Salary: $93,500\n\nProjects (2):\n  âœ… Cloud Migration\n     Budget: $500,000 | Status: completed\n  ğŸ“‹ Mobile App v2.0\n     Budget: $300,000 | Status: planning\n\nSALES DEPARTMENT\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nHead: Ms. Jennifer Johnson\n\nEmployees (3):\n  â€¢ David Lee\n    Position: Sales Manager\n    Salary: $95,000\n  â€¢ Emma Wilson\n    Position: Sales Rep\n    Salary: $75,000\n  â€¢ Henry Davis\n    Position: Sales Rep\n    Salary: $72,000\n\nProjects (1):\n  ğŸ”„ Q4 Campaign\n     Budget: $150,000 | Status: in_progress\n\nMARKETING DEPARTMENT\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nHead: Mr. Michael Brown\n\nEmployees (2):\n  â€¢ Fiona Taylor\n    Position: Marketing Director\n    Salary: $105,000\n  â€¢ George Adams\n    Position: Content Writer\n    Salary: $70,000\n\nProjects (2):\n  âœ… Brand Refresh\n     Budget: $200,000 | Status: completed\n  ğŸ”„ Social Media Campaign\n     Budget: $80,000 | Status: in_progress\n\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\nAnalysis complete!\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•",
      "explanation": "<h3>ğŸ“š Key Concepts Demonstrated:</h3><ol><li><strong>Multi-Level Dictionary Structure (Lines 2-41):</strong><ul><li>Company â†’ Departments â†’ Employees/Projects</li><li>3 levels of nesting</li><li>Mix of dictionaries and lists</li></ul></li><li><strong>Accessing Nested Values (Lines 51-61):</strong><pre><code># Three levels deep\neng_head = company['departments']['Engineering']['head']\n\n# Four levels (includes list index)\nfirst_sales = company['departments']['Sales']['employees'][0]['name']</code></pre></li><li><strong>Modifying Nested Lists (Line 72):</strong><pre><code># Add to nested list\ncompany['departments']['Sales']['employees'].append(new_employee)</code></pre></li><li><strong>Modifying Nested Values (Lines 78-82):</strong><pre><code># Change value in nested dict inside list\nfor project in company['departments']['Engineering']['projects']:\n    project['status'] = 'completed'</code></pre></li><li><strong>Batch Updates (Lines 86-91):</strong><pre><code># Update all items in nested list\nfor employee in company['departments']['Engineering']['employees']:\n    employee['salary'] = int(employee['salary'] * 1.10)</code></pre></li><li><strong>Aggregation Across Nested Structure (Lines 96-102):</strong><pre><code># Sum across all departments\nfor dept_name, dept_info in company['departments'].items():\n    dept_count = len(dept_info['employees'])\n    total_employees += dept_count</code></pre></li><li><strong>List Comprehension in Nested Context (Line 111):</strong><pre><code># Extract specific values from nested dicts in list\nsalaries = [emp['salary'] for emp in dept_info['employees']]</code></pre></li></ol><h3>âš ï¸ Common Mistakes:</h3><ol><li><strong>Wrong Access Order:</strong><pre><code># âŒ WRONG - trying list index before dict key\nname = employees['name'][0]  # Error!\n\n# âœ… CORRECT - list index first, then dict key\nname = employees[0]['name']</code></pre></li><li><strong>Not Checking if Keys Exist:</strong><pre><code># âŒ UNSAFE\nhead = company['departments']['HR']['head']  # KeyError if no HR!\n\n# âœ… SAFE\nif 'HR' in company['departments']:\n    head = company['departments']['HR']['head']</code></pre></li><li><strong>Modifying While Iterating:</strong><pre><code># âŒ WRONG\nfor emp in employees:\n    if emp['salary'] < 50000:\n        employees.remove(emp)  # Modifying while iterating!\n\n# âœ… CORRECT - use list comprehension\nemployees = [emp for emp in employees if emp['salary'] >= 50000]</code></pre></li></ol><h3>ğŸ’¡ Pro Tips:</h3><ul><li>âœ… <strong>Use meaningful key names</strong> that describe the data</li><li>âœ… <strong>Keep nesting shallow</strong> when possible (3-4 levels max)</li><li>âœ… <strong>Use list comprehensions</strong> for filtering/transforming nested lists</li><li>âœ… <strong>Chain .get() for safe access:</strong> <code>data.get('a', {}).get('b', default)</code></li><li>âœ… <strong>Consider JSON</strong> for visualizing nested structures</li></ul>"
    },
    {
      "role": "Summary",
      "title": "Key Takeaways",
      "content": "<h3>ğŸ¯ Essential Points to Remember:</h3><ol><li><strong>Three main nested patterns:</strong><ul><li><strong>Dictionary of Dictionaries:</strong> <code>{\"user1\": {\"name\": \"Alice\"}}</code></li><li><strong>List of Dictionaries:</strong> <code>[{\"name\": \"Alice\"}, {\"name\": \"Bob\"}]</code></li><li><strong>Dictionary of Lists:</strong> <code>{\"fruits\": [\"apple\", \"banana\"]}</code></li></ul></li><li><strong>Access nested values by chaining:</strong><pre><code># Dict â†’ Dict\nvalue = data[\"level1\"][\"level2\"]\n\n# List â†’ Dict\nvalue = data[0][\"key\"]\n\n# Dict â†’ List\nvalue = data[\"key\"][0]</code></pre></li><li><strong>Safe access with .get() chaining:</strong><pre><code># Instead of:\nvalue = data['a']['b']  # KeyError if missing!\n\n# Use:\nvalue = data.get('a', {}).get('b', default)</code></pre></li><li><strong>Iterating nested structures:</strong><pre><code># Dict of dicts\nfor key, inner_dict in outer.items():\n    for inner_key, value in inner_dict.items():\n        # Process\n\n# List of dicts\nfor item_dict in list_of_dicts:\n    for key, value in item_dict.items():\n        # Process</code></pre></li><li><strong>Modifying nested values:</strong><pre><code># Direct modification\ndata['level1']['level2'] = new_value\n\n# Add to nested list\ndata['dept']['employees'].append(new_emp)\n\n# Update nested dict\ndata['user']['settings'].update({'theme': 'dark'})</code></pre></li><li><strong>Common nested patterns in real-world:</strong><ul><li>ğŸŒ <strong>API responses</strong> (JSON data)</li><li>ğŸ“Š <strong>Database records</strong> (rows with columns)</li><li>ğŸ—‚ï¸ <strong>Configuration files</strong> (settings hierarchy)</li><li>ğŸ‘¥ <strong>User profiles</strong> (personal info, preferences, activity)</li></ul></li><li><strong>Keep nesting manageable:</strong><ul><li>3-4 levels is reasonable</li><li>Too deep? Consider restructuring</li><li>Use meaningful key names at each level</li></ul></li><li><strong>Use list comprehensions for filtering:</strong><pre><code># Filter nested list\ncs_students = [s for s in students if s['major'] == 'CS']\n\n# Extract nested values\nnames = [emp['name'] for emp in dept['employees']]</code></pre></li><li><strong>Check existence before access:</strong><pre><code># Method 1: 'in' keyword\nif 'contact' in user and 'phone' in user['contact']:\n    phone = user['contact']['phone']\n\n# Method 2: .get() chain\nphone = user.get('contact', {}).get('phone', 'N/A')</code></pre></li><li><strong>Nested structures are mutable:</strong><ul><li>Changes affect the original</li><li>Copying requires deep copy for nested structures</li><li>Be careful with references</li></ul></li></ol><h3>ğŸš€ Coming Up Next:</h3><p>In the next lesson, you'll learn about <strong>Sets</strong> - Python's collection type for storing unique items and performing mathematical set operations like union, intersection, and difference!</p>"
    }
  ],
  "checkpoint_quiz": [
    {
      "question": "How do you access a value in a dictionary that's nested inside another dictionary?\n\nusers = {'alice': {'age': 25, 'city': 'NYC'}}",
      "options": [
        "users.alice.age",
        "users['alice', 'age']",
        "users['alice']['age']",
        "users('alice')('age')"
      ],
      "correct_answer": 2,
      "explanation": "Use CHAINED SQUARE BRACKETS: users['alice']['age']. The first bracket gets the inner dictionary, the second bracket accesses the key in that inner dictionary. Think of it as navigating levels: first get 'alice' dict, then get 'age' from it."
    },
    {
      "question": "What's the correct way to access the first element in a list that's inside a dictionary?\n\ncourses = {'CS101': ['Alice', 'Bob', 'Carol']}",
      "options": [
        "courses['CS101'][0]",
        "courses[0]['CS101']",
        "courses.CS101[0]",
        "courses['CS101', 0]"
      ],
      "correct_answer": 0,
      "explanation": "First use the DICT KEY to get the list, then use LIST INDEX: courses['CS101'][0]. Order matters! Dictionary key first (gets the list), then list index (gets item from that list). This returns 'Alice'."
    },
    {
      "question": "What's the safest way to access a deeply nested value that might not exist?\n\nuser = {'contact': {'email': 'test@example.com'}}",
      "options": [
        "user['contact']['phone']",
        "user.get('contact').get('phone')",
        "user.get('contact', {}).get('phone', 'N/A')",
        "user['contact'].get('phone', 'N/A')"
      ],
      "correct_answer": 2,
      "explanation": "Chain .get() with defaults: user.get('contact', {}).get('phone', 'N/A'). If 'contact' doesn't exist, returns empty dict {}, then .get('phone') on that returns 'N/A'. This never crashes! Option D would crash if 'contact' doesn't exist. Option B would crash on None.get()."
    }
  ]
}
