{
  "lesson_id": 5,
  "module_id": 7,
  "title": "Dictionary and Set Comprehensions",
  "duration": "25 minutes",
  "objectives": [
    "Master dictionary comprehension syntax for creating dictionaries",
    "Learn set comprehension syntax for creating sets",
    "Understand when to use comprehensions vs traditional loops",
    "Write concise, Pythonic code using comprehensions"
  ],
  "sections": [
    {
      "role": "The Simplifier",
      "title": "The Concept",
      "content": "<h3>âš¡ Comprehensions: One-Line Data Structures</h3><p><strong>Real-World Analogy First:</strong></p><p>Imagine you're organizing a photo collection:</p><ul><li>ğŸ“¸ <strong>Traditional way:</strong> Go through each photo, write down \"filename â†’ description\" in a notebook, one by one</li><li>ğŸ“¸ <strong>Comprehension way:</strong> Stamp each photo with its info in one smooth motion - same result, much faster!</li></ul><p>Comprehensions are like production lines - you define the pattern once and Python applies it to all items automatically in one elegant expression.</p><hr><p><strong>Now The Technical Terms:</strong></p><p><strong>Dictionary Comprehension:</strong> A concise way to create dictionaries in one line using a pattern.</p><p><strong>Set Comprehension:</strong> A concise way to create sets in one line using a pattern.</p><p><strong>Syntax Pattern:</strong></p><pre><code># Dictionary comprehension\n{key_expression: value_expression for item in iterable}\n\n# Set comprehension\n{expression for item in iterable}</code></pre><p><strong>Why Comprehensions Matter:</strong></p><ul><li>âœ… <strong>Concise:</strong> One line instead of 4-5</li><li>âœ… <strong>Readable:</strong> Once you know them, they're clearer</li><li>âœ… <strong>Pythonic:</strong> The \"Python way\" of doing things</li><li>âœ… <strong>Often faster:</strong> Optimized by Python</li></ul>"
    },
    {
      "role": "The Coder",
      "title": "Code Example",
      "content": "<h3>ğŸ’» Dictionary and Set Comprehensions</h3><p>Let's see comprehensions in action:</p>",
      "code": "# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n# EXAMPLE 1: Basic Dictionary Comprehension\n# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\nprint(\"Example 1: Basic dictionary comprehension\")\nprint()\n\n# Traditional way\nnumbers = [1, 2, 3, 4, 5]\nsquares_dict = {}\nfor num in numbers:\n    squares_dict[num] = num ** 2\n\nprint(\"Traditional way:\")\nprint(f\"  {squares_dict}\")\n\n# Dictionary comprehension way\nsquares_comp = {num: num ** 2 for num in numbers}\n\nprint(\"Comprehension way:\")\nprint(f\"  {squares_comp}\")\nprint(f\"  (Same result, one line!)\")\nprint()\n\n# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n# EXAMPLE 2: Dictionary Comprehension with Transformation\n# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\nprint(\"Example 2: Transform list to dictionary\")\nprint()\n\nfruits = [\"apple\", \"banana\", \"cherry\"]\n\n# Create dict: fruit â†’ length\nfruit_lengths = {fruit: len(fruit) for fruit in fruits}\nprint(f\"Fruit lengths: {fruit_lengths}\")\n\n# Create dict: fruit â†’ uppercase\nfruit_upper = {fruit: fruit.upper() for fruit in fruits}\nprint(f\"Fruit uppercase: {fruit_upper}\")\n\n# Create dict: index â†’ fruit\nfruit_index = {i: fruit for i, fruit in enumerate(fruits)}\nprint(f\"Fruit by index: {fruit_index}\")\nprint()\n\n# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n# EXAMPLE 3: Dictionary Comprehension with Condition\n# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\nprint(\"Example 3: Dictionary comprehension with filtering\")\nprint()\n\nscores = {\"Alice\": 85, \"Bob\": 92, \"Carol\": 78, \"Dave\": 95, \"Eve\": 88}\n\nprint(f\"All scores: {scores}\")\n\n# Filter: only scores >= 85\nhigh_scores = {name: score for name, score in scores.items() if score >= 85}\nprint(f\"High scores (>= 85): {high_scores}\")\n\n# Transform and filter\nscores_percent = {name: f\"{score}%\" for name, score in scores.items() if score >= 90}\nprint(f\"A grades (>= 90): {scores_percent}\")\nprint()\n\n# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n# EXAMPLE 4: Basic Set Comprehension\n# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\nprint(\"Example 4: Basic set comprehension\")\nprint()\n\nnumbers = [1, 2, 3, 4, 5]\n\n# Traditional way\nsquares_set = set()\nfor num in numbers:\n    squares_set.add(num ** 2)\n\nprint(\"Traditional way:\")\nprint(f\"  {squares_set}\")\n\n# Set comprehension way\nsquares_comp = {num ** 2 for num in numbers}\n\nprint(\"Comprehension way:\")\nprint(f\"  {squares_comp}\")\nprint()\n\n# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n# EXAMPLE 5: Set Comprehension - Remove Duplicates\n# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\nprint(\"Example 5: Set comprehension with duplicates\")\nprint()\n\nwords = [\"apple\", \"banana\", \"apple\", \"cherry\", \"banana\", \"apple\"]\n\nprint(f\"Words with duplicates: {words}\")\n\n# Get unique word lengths\nlengths = {len(word) for word in words}\nprint(f\"Unique lengths: {lengths}\")\n\n# Get unique first letters\nfirst_letters = {word[0] for word in words}\nprint(f\"Unique first letters: {first_letters}\")\n\n# Get unique uppercase words\nunique_upper = {word.upper() for word in words}\nprint(f\"Unique uppercase: {unique_upper}\")\nprint()\n\n# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n# EXAMPLE 6: Set Comprehension with Condition\n# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\nprint(\"Example 6: Set comprehension with filtering\")\nprint()\n\nnumbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\n\n# Even numbers only\nevens = {n for n in numbers if n % 2 == 0}\nprint(f\"Even numbers: {evens}\")\n\n# Numbers divisible by 3\ndiv_by_3 = {n for n in numbers if n % 3 == 0}\nprint(f\"Divisible by 3: {div_by_3}\")\n\n# Squares of odd numbers\nodd_squares = {n ** 2 for n in numbers if n % 2 != 0}\nprint(f\"Squares of odd numbers: {odd_squares}\")\nprint()\n\n# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n# EXAMPLE 7: Nested Comprehensions\n# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\nprint(\"Example 7: Nested comprehensions\")\nprint()\n\n# Create multiplication table as dictionary\nmult_table = {f\"{i}x{j}\": i*j for i in range(1, 4) for j in range(1, 4)}\nprint(\"Multiplication table (1-3):\")\nfor key, value in sorted(mult_table.items()):\n    print(f\"  {key} = {value}\")\nprint()\n\n# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n# EXAMPLE 8: Practical Use Cases\n# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\nprint(\"Example 8: Practical applications\")\nprint()\n\n# Use case 1: Invert a dictionary (swap keys and values)\noriginal = {\"a\": 1, \"b\": 2, \"c\": 3}\ninverted = {value: key for key, value in original.items()}\nprint(f\"Original: {original}\")\nprint(f\"Inverted: {inverted}\")\nprint()\n\n# Use case 2: Count character frequencies\ntext = \"hello world\"\nchar_count = {char: text.count(char) for char in set(text) if char != ' '}\nprint(f\"Text: '{text}'\")\nprint(f\"Character frequencies: {char_count}\")\nprint()\n\n# Use case 3: Create lookup table from list of tuples\nstudents = [(\"Alice\", 85), (\"Bob\", 92), (\"Carol\", 78)]\ngrade_lookup = {name: grade for name, grade in students}\nprint(f\"Student data: {students}\")\nprint(f\"Grade lookup: {grade_lookup}\")\nprint()\n\n# Use case 4: Filter and transform\nprices = {\"apple\": 1.20, \"banana\": 0.50, \"cherry\": 3.00, \"date\": 2.50}\nexpensive = {fruit.upper(): f\"${price:.2f}\" for fruit, price in prices.items() if price > 1.00}\nprint(f\"All prices: {prices}\")\nprint(f\"Expensive items (> $1): {expensive}\")\nprint()\n\n# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n# EXAMPLE 9: When NOT to Use Comprehensions\n# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\nprint(\"Example 9: When traditional loops are better\")\nprint()\n\n# âŒ TOO COMPLEX for comprehension\nprint(\"Complex logic - use traditional loop:\")\nresults = {}\nfor num in range(1, 6):\n    if num % 2 == 0:\n        results[num] = \"even\"\n    else:\n        results[num] = \"odd\"\n    print(f\"  Processed {num}\")\n\nprint(f\"Results: {results}\")\nprint(\"(Comprehension would be less readable here)\")",
      "output": "Example 1: Basic dictionary comprehension\n\nTraditional way:\n  {1: 1, 2: 4, 3: 9, 4: 16, 5: 25}\nComprehension way:\n  {1: 1, 2: 4, 3: 9, 4: 16, 5: 25}\n  (Same result, one line!)\n\nExample 2: Transform list to dictionary\n\nFruit lengths: {'apple': 5, 'banana': 6, 'cherry': 6}\nFruit uppercase: {'apple': 'APPLE', 'banana': 'BANANA', 'cherry': 'CHERRY'}\nFruit by index: {0: 'apple', 1: 'banana', 2: 'cherry'}\n\nExample 3: Dictionary comprehension with filtering\n\nAll scores: {'Alice': 85, 'Bob': 92, 'Carol': 78, 'Dave': 95, 'Eve': 88}\nHigh scores (>= 85): {'Alice': 85, 'Bob': 92, 'Dave': 95, 'Eve': 88}\nA grades (>= 90): {'Bob': '92%', 'Dave': '95%'}\n\nExample 4: Basic set comprehension\n\nTraditional way:\n  {1, 4, 9, 16, 25}\nComprehension way:\n  {1, 4, 9, 16, 25}\n\nExample 5: Set comprehension with duplicates\n\nWords with duplicates: ['apple', 'banana', 'apple', 'cherry', 'banana', 'apple']\nUnique lengths: {5, 6}\nUnique first letters: {'a', 'b', 'c'}\nUnique uppercase: {'APPLE', 'BANANA', 'CHERRY'}\n\nExample 6: Set comprehension with filtering\n\nEven numbers: {2, 4, 6, 8, 10}\nDivisible by 3: {3, 6, 9}\nSquares of odd numbers: {1, 9, 25, 49, 81}\n\nExample 7: Nested comprehensions\n\nMultiplication table (1-3):\n  1x1 = 1\n  1x2 = 2\n  1x3 = 3\n  2x1 = 2\n  2x2 = 4\n  2x3 = 6\n  3x1 = 3\n  3x2 = 6\n  3x3 = 9\n\nExample 8: Practical applications\n\nOriginal: {'a': 1, 'b': 2, 'c': 3}\nInverted: {1: 'a', 2: 'b', 3: 'c'}\n\nText: 'hello world'\nCharacter frequencies: {'h': 1, 'e': 1, 'l': 3, 'o': 2, 'w': 1, 'r': 1, 'd': 1}\n\nStudent data: [('Alice', 85), ('Bob', 92), ('Carol', 78)]\nGrade lookup: {'Alice': 85, 'Bob': 92, 'Carol': 78}\n\nAll prices: {'apple': 1.2, 'banana': 0.5, 'cherry': 3.0, 'date': 2.5}\nExpensive items (> $1): {'APPLE': '$1.20', 'CHERRY': '$3.00', 'DATE': '$2.50'}\n\nExample 9: When traditional loops are better\n\nComplex logic - use traditional loop:\n  Processed 1\n  Processed 2\n  Processed 3\n  Processed 4\n  Processed 5\nResults: {1: 'odd', 2: 'even', 3: 'odd', 4: 'even', 5: 'odd'}\n(Comprehension would be less readable here)"
    },
    {
      "role": "The Simplifier",
      "title": "Syntax Breakdown",
      "content": "<h3>ğŸ” Understanding Comprehension Syntax</h3><p><strong>Part 1: Dictionary Comprehension Anatomy</strong></p><pre><code>{key_expr: value_expr for item in iterable if condition}\n ^^^^^^^^^  ^^^^^^^^^^     ^^^^^^^^^^^^^^^^  ^^^^^^^^^^^  \n key part   value part     iteration         filter (optional)</code></pre><p><strong>Breaking it down:</strong></p><ol><li><strong>Key expression:</strong> What to use as dictionary key</li><li><strong>Value expression:</strong> What to use as dictionary value</li><li><strong>Iteration:</strong> Loop over items</li><li><strong>Condition (optional):</strong> Filter which items to include</li></ol><p><strong>Examples:</strong></p><pre><code># Simple: number â†’ square\n{x: x**2 for x in range(5)}\n# {0: 0, 1: 1, 2: 4, 3: 9, 4: 16}\n\n# With condition: only evens\n{x: x**2 for x in range(5) if x % 2 == 0}\n# {0: 0, 2: 4, 4: 16}\n\n# From existing dict\nscores = {\"Alice\": 85, \"Bob\": 92}\n{name: score*1.1 for name, score in scores.items()}\n# {\"Alice\": 93.5, \"Bob\": 101.2}</code></pre><hr><p><strong>Part 2: Set Comprehension Anatomy</strong></p><pre><code>{expression for item in iterable if condition}\n ^^^^^^^^^^     ^^^^^^^^^^^^^^^^  ^^^^^^^^^^^  \n what to add    iteration         filter (optional)</code></pre><p><strong>Breaking it down:</strong></p><ol><li><strong>Expression:</strong> What value to add to set</li><li><strong>Iteration:</strong> Loop over items</li><li><strong>Condition (optional):</strong> Filter which items to include</li></ol><p><strong>Examples:</strong></p><pre><code># Simple: squares\n{x**2 for x in range(5)}\n# {0, 1, 4, 9, 16}\n\n# With condition: only odd squares  \n{x**2 for x in range(5) if x % 2 != 0}\n# {1, 9}\n\n# Unique lengths from list\nwords = [\"hi\", \"hello\", \"hey\"]\n{len(w) for w in words}\n# {2, 3, 5}</code></pre><hr><p><strong>Part 3: Comparison - Traditional vs Comprehension</strong></p><pre><code># DICTIONARY COMPREHENSION\n\n# Traditional:\nresult = {}\nfor num in numbers:\n    result[num] = num * 2\n\n# Comprehension:\nresult = {num: num * 2 for num in numbers}\n\n# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\n# SET COMPREHENSION\n\n# Traditional:\nresult = set()\nfor num in numbers:\n    result.add(num * 2)\n\n# Comprehension:\nresult = {num * 2 for num in numbers}</code></pre><hr><p><strong>Part 4: Adding Conditions</strong></p><pre><code># Dictionary: filter items\n{k: v for k, v in dict.items() if condition}\n\n# Example: only passing grades\nscores = {\"Alice\": 85, \"Bob\": 55, \"Carol\": 92}\npassing = {name: score for name, score in scores.items() if score >= 60}\n# {\"Alice\": 85, \"Carol\": 92}\n\n# Set: filter items\n{expr for item in iterable if condition}\n\n# Example: only even numbers\nnumbers = [1, 2, 3, 4, 5]\nevens = {n for n in numbers if n % 2 == 0}\n# {2, 4}</code></pre><hr><p><strong>Part 5: Nested Comprehensions</strong></p><pre><code># Dictionary with nested loop\n{f\"{i},{j}\": i+j for i in range(3) for j in range(3)}\n# {\"0,0\": 0, \"0,1\": 1, \"0,2\": 2, \"1,0\": 1, ...}\n\n# Equivalent traditional code:\nresult = {}\nfor i in range(3):\n    for j in range(3):\n        result[f\"{i},{j}\"] = i + j</code></pre><hr><p><strong>Part 6: Common Patterns</strong></p><pre><code># Pattern 1: Invert dictionary\noriginal = {\"a\": 1, \"b\": 2}\ninverted = {v: k for k, v in original.items()}\n\n# Pattern 2: Transform values\nprices = {\"apple\": 1.0, \"banana\": 0.5}\nwith_tax = {item: price * 1.07 for item, price in prices.items()}\n\n# Pattern 3: Filter dictionary\nscores = {\"Alice\": 85, \"Bob\": 55}\npassing = {k: v for k, v in scores.items() if v >= 60}\n\n# Pattern 4: Create from two lists\nkeys = [\"a\", \"b\", \"c\"]\nvalues = [1, 2, 3]\ncombined = {k: v for k, v in zip(keys, values)}\n\n# Pattern 5: Remove duplicates and transform\nwords = [\"apple\", \"APPLE\", \"banana\"]\nunique_lower = {w.lower() for w in words}</code></pre><hr><p><strong>Part 7: When to Use vs Not Use</strong></p><pre><code># âœ… GOOD use of comprehension: Simple, clear\nsquares = {x: x**2 for x in range(10)}\n\n# âŒ BAD use: Too complex, hard to read\nresult = {k: (v*2 if v > 10 else v/2) + (5 if k.startswith('a') else 0) \n          for k, v in data.items() if k not in exclude and v < limit}\n\n# âœ… BETTER: Use traditional loop for complex logic\nresult = {}\nfor k, v in data.items():\n    if k not in exclude and v < limit:\n        if v > 10:\n            result[k] = v * 2 + (5 if k.startswith('a') else 0)\n        else:\n            result[k] = v / 2 + (5 if k.startswith('a') else 0)</code></pre><p><strong>Guidelines:</strong></p><ul><li>âœ… Use comprehensions for simple transformations and filters</li><li>âœ… Keep them readable - if it's hard to understand, use a loop</li><li>âœ… One line is fine, but don't sacrifice clarity</li><li>âŒ Avoid complex nested comprehensions</li><li>âŒ Don't use if you need to print/log during iteration</li></ul>"
    },
    {
      "role": "The Coder",
      "title": "Exercise",
      "content": "<h3>âœï¸ Your Turn: Data Analysis with Comprehensions</h3><p><strong>Challenge:</strong> Use dictionary and set comprehensions to analyze product sales data.</p><p><strong>Given Data:</strong></p><pre><code>products = [\n    (\"Laptop\", 999, \"Electronics\"),\n    (\"Mouse\", 25, \"Electronics\"),\n    (\"Desk\", 299, \"Furniture\"),\n    (\"Chair\", 199, \"Furniture\"),\n    (\"Monitor\", 399, \"Electronics\"),\n    (\"Lamp\", 49, \"Furniture\")\n]</code></pre><p><strong>Requirements:</strong></p><ol><li><strong>Dictionary Comprehension Tasks:</strong><ul><li>Create a dictionary mapping product name to price</li><li>Create a dictionary of only expensive items (price > 100) with price in format \"$XXX.00\"</li><li>Create a dictionary mapping category to count of products in that category</li></ul></li><li><strong>Set Comprehension Tasks:</strong><ul><li>Create a set of all unique categories</li><li>Create a set of all prices (unique values only)</li><li>Create a set of product names that are Electronics</li></ul></li><li><strong>Combined Challenge:</strong><ul><li>Use comprehensions to find the average price per category</li><li>Create a set of categories that have products over $200</li></ul></li></ol>",
      "starter_code": "# Given product data: (name, price, category)\nproducts = [\n    (\"Laptop\", 999, \"Electronics\"),\n    (\"Mouse\", 25, \"Electronics\"),\n    (\"Desk\", 299, \"Furniture\"),\n    (\"Chair\", 199, \"Furniture\"),\n    (\"Monitor\", 399, \"Electronics\"),\n    (\"Lamp\", 49, \"Furniture\")\n]\n\nprint(\"ğŸ“Š PRODUCT ANALYSIS WITH COMPREHENSIONS\")\nprint(\"â•\" * 60)\nprint(f\"Product data: {len(products)} products\")\nfor name, price, cat in products:\n    print(f\"  {name}: ${price} ({cat})\")\nprint()\n\n# Task 1: Name â†’ Price dictionary\nprint(\"Task 1: Product prices\")\n# Your code here\n\n# Task 2: Expensive items dictionary (price > 100)\nprint(\"\\nTask 2: Expensive items (> $100)\")\n# Your code here\n\n# Task 3: Category â†’ Count dictionary\nprint(\"\\nTask 3: Product count by category\")\n# Your code here\n\n# Task 4: Set of unique categories\nprint(\"\\nTask 4: Unique categories\")\n# Your code here\n\n# Task 5: Set of unique prices\nprint(\"\\nTask 5: Unique prices\")\n# Your code here\n\n# Task 6: Set of Electronics product names\nprint(\"\\nTask 6: Electronics products\")\n# Your code here\n\n# Task 7: Average price per category\nprint(\"\\nTask 7: Average price by category\")\n# Your code here\n\n# Task 8: Categories with expensive items (> $200)\nprint(\"\\nTask 8: Categories with items > $200\")\n# Your code here\n"
    },
    {
      "role": "The Coder",
      "title": "Solution",
      "content": "<h3>âœ… Solution: Data Analysis with Comprehensions</h3>",
      "code": "# Given product data: (name, price, category)\nproducts = [\n    (\"Laptop\", 999, \"Electronics\"),\n    (\"Mouse\", 25, \"Electronics\"),\n    (\"Desk\", 299, \"Furniture\"),\n    (\"Chair\", 199, \"Furniture\"),\n    (\"Monitor\", 399, \"Electronics\"),\n    (\"Lamp\", 49, \"Furniture\")\n]\n\nprint(\"ğŸ“Š PRODUCT ANALYSIS WITH COMPREHENSIONS\")\nprint(\"â•\" * 60)\nprint(f\"Product data: {len(products)} products\")\nfor name, price, cat in products:\n    print(f\"  {name}: ${price} ({cat})\")\nprint()\n\n# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n# Task 1: Name â†’ Price dictionary\n# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\nprint(\"Task 1: Product prices\")\nprint(\"â”€\" * 60)\n\nprice_dict = {name: price for name, price, cat in products}\nprint(f\"Price dictionary:\")\nfor name, price in price_dict.items():\n    print(f\"  {name}: ${price}\")\n\n# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n# Task 2: Expensive items dictionary (price > 100)\n# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\nprint(\"\\nTask 2: Expensive items (> $100)\")\nprint(\"â”€\" * 60)\n\nexpensive = {name: f\"${price:.2f}\" for name, price, cat in products if price > 100}\nprint(f\"Expensive items:\")\nfor name, price_str in expensive.items():\n    print(f\"  {name}: {price_str}\")\nprint(f\"Total expensive items: {len(expensive)}\")\n\n# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n# Task 3: Category â†’ Count dictionary\n# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\nprint(\"\\nTask 3: Product count by category\")\nprint(\"â”€\" * 60)\n\n# First, get unique categories\ncategories = {cat for name, price, cat in products}\n\n# Then count products in each category\ncategory_counts = {cat: sum(1 for n, p, c in products if c == cat) for cat in categories}\n\nprint(f\"Category counts:\")\nfor cat, count in category_counts.items():\n    print(f\"  {cat}: {count} product(s)\")\n\n# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n# Task 4: Set of unique categories\n# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\nprint(\"\\nTask 4: Unique categories\")\nprint(\"â”€\" * 60)\n\nunique_categories = {cat for name, price, cat in products}\nprint(f\"Categories: {unique_categories}\")\nprint(f\"Total categories: {len(unique_categories)}\")\n\n# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n# Task 5: Set of unique prices\n# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\nprint(\"\\nTask 5: Unique prices\")\nprint(\"â”€\" * 60)\n\nunique_prices = {price for name, price, cat in products}\nprint(f\"Unique prices: {sorted(unique_prices)}\")\nprint(f\"Price range: ${min(unique_prices)} - ${max(unique_prices)}\")\n\n# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n# Task 6: Set of Electronics product names\n# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\nprint(\"\\nTask 6: Electronics products\")\nprint(\"â”€\" * 60)\n\nelectronics = {name for name, price, cat in products if cat == \"Electronics\"}\nprint(f\"Electronics products: {electronics}\")\nprint(f\"Total Electronics items: {len(electronics)}\")\n\n# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n# Task 7: Average price per category\n# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\nprint(\"\\nTask 7: Average price by category\")\nprint(\"â”€\" * 60)\n\n# Create dict: category â†’ list of prices\ncat_prices = {}\nfor name, price, cat in products:\n    if cat not in cat_prices:\n        cat_prices[cat] = []\n    cat_prices[cat].append(price)\n\n# Calculate averages using comprehension\navg_prices = {cat: sum(prices) / len(prices) for cat, prices in cat_prices.items()}\n\nprint(f\"Average prices by category:\")\nfor cat, avg in sorted(avg_prices.items()):\n    print(f\"  {cat}: ${avg:.2f}\")\n\n# Alternative: More Pythonic with comprehension for grouping\nprint(\"\\nAlternative calculation:\")\nfor cat in unique_categories:\n    cat_products = [price for name, price, c in products if c == cat]\n    avg = sum(cat_products) / len(cat_products)\n    print(f\"  {cat}: ${avg:.2f} (from {len(cat_products)} items)\")\n\n# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n# Task 8: Categories with expensive items (> $200)\n# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\nprint(\"\\nTask 8: Categories with items > $200\")\nprint(\"â”€\" * 60)\n\nexpensive_categories = {cat for name, price, cat in products if price > 200}\nprint(f\"Categories with expensive items: {expensive_categories}\")\n\n# Show which products are expensive in each category\nfor cat in sorted(expensive_categories):\n    expensive_in_cat = [(name, price) for name, price, c in products if c == cat and price > 200]\n    print(f\"\\n{cat}:\")\n    for name, price in expensive_in_cat:\n        print(f\"  â€¢ {name}: ${price}\")\n\nprint(\"\\n\" + \"â•\" * 60)\nprint(\"âœ… Analysis complete!\")\nprint(\"â•\" * 60)",
      "output": "ğŸ“Š PRODUCT ANALYSIS WITH COMPREHENSIONS\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\nProduct data: 6 products\n  Laptop: $999 (Electronics)\n  Mouse: $25 (Electronics)\n  Desk: $299 (Furniture)\n  Chair: $199 (Furniture)\n  Monitor: $399 (Electronics)\n  Lamp: $49 (Furniture)\n\nTask 1: Product prices\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nPrice dictionary:\n  Laptop: $999\n  Mouse: $25\n  Desk: $299\n  Chair: $199\n  Monitor: $399\n  Lamp: $49\n\nTask 2: Expensive items (> $100)\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nExpensive items:\n  Laptop: $999.00\n  Desk: $299.00\n  Chair: $199.00\n  Monitor: $399.00\nTotal expensive items: 4\n\nTask 3: Product count by category\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nCategory counts:\n  Electronics: 3 product(s)\n  Furniture: 3 product(s)\n\nTask 4: Unique categories\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nCategories: {'Electronics', 'Furniture'}\nTotal categories: 2\n\nTask 5: Unique prices\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nUnique prices: [25, 49, 199, 299, 399, 999]\nPrice range: $25 - $999\n\nTask 6: Electronics products\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nElectronics products: {'Laptop', 'Mouse', 'Monitor'}\nTotal Electronics items: 3\n\nTask 7: Average price by category\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nAverage prices by category:\n  Electronics: $474.33\n  Furniture: $182.33\n\nAlternative calculation:\n  Electronics: $474.33 (from 3 items)\n  Furniture: $182.33 (from 3 items)\n\nTask 8: Categories with items > $200\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nCategories with expensive items: {'Electronics', 'Furniture'}\n\nElectronics:\n  â€¢ Laptop: $999\n  â€¢ Monitor: $399\n\nFurniture:\n  â€¢ Desk: $299\n\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\nâœ… Analysis complete!\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•",
      "explanation": "<h3>ğŸ“š How Comprehensions Were Used:</h3><ol><li><strong>Basic Dictionary Comprehension (Line 22):</strong><pre><code>price_dict = {name: price for name, price, cat in products}</code></pre><ul><li>Unpacks tuple: (name, price, category)</li><li>Creates key:value pair for each product</li><li>One line instead of loop</li></ul></li><li><strong>Dictionary with Filter (Line 33):</strong><pre><code>expensive = {name: f\"${price:.2f}\" for name, price, cat in products if price > 100}</code></pre><ul><li>Filters with <code>if price > 100</code></li><li>Transforms value with f-string</li><li>Combines filtering and formatting</li></ul></li><li><strong>Nested Set then Dict Comprehension (Lines 46-49):</strong><pre><code>categories = {cat for name, price, cat in products}\ncategory_counts = {cat: sum(1 for n, p, c in products if c == cat) for cat in categories}</code></pre><ul><li>First: get unique categories (set comprehension)</li><li>Second: count items per category (dict comprehension with generator)</li></ul></li><li><strong>Simple Set Comprehension (Line 62):</strong><pre><code>unique_categories = {cat for name, price, cat in products}</code></pre><ul><li>Extracts third element (category) from each tuple</li><li>Set automatically removes duplicates</li></ul></li><li><strong>Set with Transformation (Line 72):</strong><pre><code>unique_prices = {price for name, price, cat in products}</code></pre><ul><li>Extracts price from each product</li><li>Returns unique prices only</li></ul></li><li><strong>Set with Filter (Line 83):</strong><pre><code>electronics = {name for name, price, cat in products if cat == \"Electronics\"}</code></pre><ul><li>Filter by category</li><li>Extract just names</li><li>Return as set</li></ul></li><li><strong>Complex Dict Comprehension (Line 103):</strong><pre><code>avg_prices = {cat: sum(prices) / len(prices) for cat, prices in cat_prices.items()}</code></pre><ul><li>Iterates over dict items</li><li>Calculates average for each category</li><li>Creates new dict with results</li></ul></li><li><strong>Set from Filtered Data (Line 119):</strong><pre><code>expensive_categories = {cat for name, price, cat in products if price > 200}</code></pre><ul><li>Filters products by price</li><li>Extracts categories</li><li>Set removes duplicate categories</li></ul></li></ol><h3>ğŸ’¡ Pro Tips:</h3><ul><li>âœ… <strong>Comprehensions are expressions:</strong> Can use in function calls, assignments</li><li>âœ… <strong>Unpacking in comprehensions:</strong> <code>for a, b, c in tuples</code></li><li>âœ… <strong>Generator expressions:</strong> <code>sum(1 for x in items if condition)</code></li><li>âœ… <strong>Readability first:</strong> If unclear, use traditional loop</li></ul>"
    },
    {
      "role": "Summary",
      "title": "Key Takeaways",
      "content": "<h3>ğŸ¯ Essential Points to Remember:</h3><ol><li><strong>Dictionary comprehension syntax:</strong><pre><code>{key_expr: value_expr for item in iterable}\n{key_expr: value_expr for item in iterable if condition}</code></pre><ul><li>Creates dict in one line</li><li>Optional condition for filtering</li></ul></li><li><strong>Set comprehension syntax:</strong><pre><code>{expression for item in iterable}\n{expression for item in iterable if condition}</code></pre><ul><li>Creates set in one line</li><li>Automatically removes duplicates</li></ul></li><li><strong>Common dict comprehension patterns:</strong><pre><code># Transform values\n{k: v*2 for k, v in dict.items()}\n\n# Filter items\n{k: v for k, v in dict.items() if v > 10}\n\n# Invert dict\n{v: k for k, v in dict.items()}\n\n# From two lists\n{k: v for k, v in zip(keys, values)}</code></pre></li><li><strong>Common set comprehension patterns:</strong><pre><code># Transform items\n{x*2 for x in numbers}\n\n# Filter items\n{x for x in numbers if x > 0}\n\n# Unique values from list\n{item.lower() for item in strings}</code></pre></li><li><strong>When to use comprehensions:</strong><ul><li>âœ… Simple transformations</li><li>âœ… Filtering data</li><li>âœ… One clear operation</li><li>âœ… When it improves readability</li></ul></li><li><strong>When NOT to use:</strong><ul><li>âŒ Complex multi-step logic</li><li>âŒ Need to print/debug during iteration</li><li>âŒ Nested comprehensions that are hard to read</li><li>âŒ Side effects (modifying external variables)</li></ul></li><li><strong>Comparison to list comprehensions:</strong><pre><code># List comprehension (from Module 5)\nlist_comp = [x*2 for x in numbers]\n\n# Dict comprehension\ndict_comp = {x: x*2 for x in numbers}\n\n# Set comprehension\nset_comp = {x*2 for x in numbers}</code></pre></li><li><strong>Nested comprehensions (use sparingly):</strong><pre><code># Creates dict from nested loops\n{f\"{i},{j}\": i*j for i in range(3) for j in range(3)}\n\n# Equivalent to:\nresult = {}\nfor i in range(3):\n    for j in range(3):\n        result[f\"{i},{j}\"] = i * j</code></pre></li><li><strong>Practical applications:</strong><ul><li>Data transformation (prices â†’ prices with tax)</li><li>Filtering (only passing grades)</li><li>Grouping (words by first letter)</li><li>Inverting mappings (IDâ†’name becomes nameâ†’ID)</li><li>Removing duplicates (list â†’ set â†’ unique items)</li></ul></li><li><strong>Performance note:</strong><ul><li>Comprehensions are often faster than loops</li><li>More Pythonic and idiomatic</li><li>But clarity > speed for beginners</li></ul></li></ol><h3>ğŸš€ Module 7 Complete!</h3><p>Congratulations! You've mastered dictionaries and sets - Python's most powerful data structures! You now know:</p><ul><li>âœ… Dictionary basics (key-value pairs)</li><li>âœ… Dictionary methods (.get(), .update(), .pop(), etc.)</li><li>âœ… Nested dictionaries (complex data structures)</li><li>âœ… Sets (unique collections)</li><li>âœ… Dictionary and set comprehensions</li></ul><h3>ğŸ¯ Coming Up Next:</h3><p>In <strong>Module 8</strong>, you'll learn about <strong>Error Handling</strong> - how to gracefully handle errors, validate input, and write robust code that doesn't crash!</p>"
    }
  ],
  "checkpoint_quiz": [
    {
      "question": "What does this dictionary comprehension create?\n\n{x: x**2 for x in range(4)}",
      "options": [
        "{0, 1, 4, 9}",
        "[0, 1, 4, 9]",
        "{0: 0, 1: 1, 2: 4, 3: 9}",
        "{\"x\": \"x**2\"}"
      ],
      "correct_answer": 2,
      "explanation": "Creates a DICTIONARY with keys 0-3 and values that are their squares: {0: 0, 1: 1, 2: 4, 3: 9}. Option A would be a set (no key:value pairs), option B would be a list (uses []), and option D is nonsense. Dict comprehensions use {key: value ...} format."
    },
    {
      "question": "What's the difference between {x*2 for x in nums} and {x: x*2 for x in nums}?",
      "options": [
        "They're the same thing",
        "First creates a set, second creates a dict",
        "First creates a list, second creates a dict",
        "Both create sets"
      ],
      "correct_answer": 1,
      "explanation": "First creates a SET {2, 4, 6...} (single expression in braces), second creates a DICT {1: 2, 2: 4, 3: 6...} (key:value pairs in braces). The colon : is what makes it a dictionary comprehension instead of a set comprehension."
    },
    {
      "question": "When should you use a traditional loop instead of a comprehension?",
      "options": [
        "Never - comprehensions are always better",
        "When the logic is complex or you need to print during iteration",
        "When you have more than 3 items",
        "When you want it to be slower"
      ],
      "correct_answer": 1,
      "explanation": "Use traditional loops when logic is COMPLEX or you need SIDE EFFECTS (like printing for debugging). Comprehensions are for simple, clear transformations/filters. If a comprehension becomes hard to read or requires multiple lines, use a loop instead. Clarity > brevity!"
    }
  ]
}
